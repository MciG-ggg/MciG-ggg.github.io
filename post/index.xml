<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Posts on MciG</title><link>https://mcig-ggg.github.io/post/</link><description>Recent content in Posts on MciG</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><copyright>MciG</copyright><lastBuildDate>Wed, 29 Oct 2025 00:00:00 +0000</lastBuildDate><atom:link href="https://mcig-ggg.github.io/post/index.xml" rel="self" type="application/rss+xml"/><item><title>2025-W44-10</title><link>https://mcig-ggg.github.io/p/2025-w44-10/</link><pubDate>Wed, 29 Oct 2025 00:00:00 +0000</pubDate><guid>https://mcig-ggg.github.io/p/2025-w44-10/</guid><description>&lt;h1 id="2025-w44-10"&gt;2025-W44-10
&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;开始学 mit deeplearning
&lt;ul&gt;
&lt;li&gt;一开始感觉有点吃力， 慢慢看吧&lt;/li&gt;
&lt;li&gt;做了 lab1, 感觉 part2 有点难，写个博客总结下&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;打算走具身智能了&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="review"&gt;Review
&lt;/h2&gt;&lt;h3 id="completed"&gt;Completed
&lt;/h3&gt;&lt;h3 id="uncompleted"&gt;Uncompleted
&lt;/h3&gt;&lt;h2 id="next-week-plan"&gt;Next Week Plan
&lt;/h2&gt;&lt;h2 id="thoughts"&gt;THOUGHTS
&lt;/h2&gt;</description></item><item><title>2025-W41-10</title><link>https://mcig-ggg.github.io/p/2025-w41-10/</link><pubDate>Mon, 20 Oct 2025 00:00:00 +0000</pubDate><guid>https://mcig-ggg.github.io/p/2025-w41-10/</guid><description>&lt;h1 id="2025-w41-10"&gt;2025-W41-10
&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;定一下这学期规划吧，别东搞西搞了。
&lt;ul&gt;
&lt;li&gt;感觉没有太大必要去看peekaping前端部分，还是走后端吧&lt;/li&gt;
&lt;li&gt;可以把dubbogo，seatago多看一点&lt;/li&gt;
&lt;li&gt;jyyos的课还有lab做完，老老实实的写还有debug!!!
&lt;ul&gt;
&lt;li&gt;看完之后，这学期还有空的话课外看看LLM&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;然后课内就是：
&lt;ul&gt;
&lt;li&gt;大物课上写作业，看知识点就行了，比较轻松&lt;/li&gt;
&lt;li&gt;离散，模电，概统，有点吃力，要多发力
&lt;ul&gt;
&lt;li&gt;离散，概统看课快的话，把期末卷子写写，然后可以看看CS70&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;还有逃课最好不要逃课去玩，课上也可以刷课&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="review"&gt;Review
&lt;/h2&gt;&lt;h3 id="completed"&gt;Completed
&lt;/h3&gt;&lt;h3 id="uncompleted"&gt;Uncompleted
&lt;/h3&gt;&lt;h2 id="next-week-plan"&gt;Next Week Plan
&lt;/h2&gt;&lt;h2 id="thoughts"&gt;THOUGHTS
&lt;/h2&gt;</description></item><item><title>2025-W43-10</title><link>https://mcig-ggg.github.io/p/2025-w43-10/</link><pubDate>Mon, 20 Oct 2025 00:00:00 +0000</pubDate><guid>https://mcig-ggg.github.io/p/2025-w43-10/</guid><description>&lt;h1 id="2025-w43-10"&gt;2025-W43-10
&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;这周进社团了，社团招新进了
&lt;ul&gt;
&lt;li&gt;有工位了，感觉效率高很多&lt;/li&gt;
&lt;li&gt;有那种家的感觉了，&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;然后 jyyos M9 后面换 go 写了，心智负担更低了，leveldb 的文档写挺好的，现在实现一点 memtable 的功能了，简化下实现，大概学一下数据库&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="review"&gt;Review
&lt;/h2&gt;&lt;h3 id="completed"&gt;Completed
&lt;/h3&gt;&lt;h3 id="uncompleted"&gt;Uncompleted
&lt;/h3&gt;&lt;h2 id="next-week-plan"&gt;Next Week Plan
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;继续写 M9&lt;/li&gt;
&lt;li&gt;看 dubbogo, kiwi
&lt;ul&gt;
&lt;li&gt;从 dubbogo-example 开始看吧，然后学下怎么用&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="thoughts"&gt;THOUGHTS
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;有工位学习和生活分开了，回去之后就能好好休息了&lt;/li&gt;
&lt;li&gt;然后上周大概规划了每周的每一天做什么，感觉更有掌控感了&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>2025-04/21~27</title><link>https://mcig-ggg.github.io/p/2025-04/21~27/</link><pubDate>Wed, 08 Oct 2025 00:00:00 +0000</pubDate><guid>https://mcig-ggg.github.io/p/2025-04/21~27/</guid><description>&lt;h1 id="2025-042127"&gt;2025-04/21~27
&lt;/h1&gt;&lt;h2 id="review"&gt;Review
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;折腾的一周：
&lt;ul&gt;
&lt;li&gt;折腾 obsidian&lt;/li&gt;
&lt;li&gt;折腾个人博客&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;CS188 就看了一节
&lt;ul&gt;
&lt;li&gt;感觉得慢慢看，不要急&lt;/li&gt;
&lt;li&gt;所以复习了下前面的内容，打算写篇博客文章，还没写完&lt;/li&gt;
&lt;li&gt;proj, 和 discussion 的进度也要跟上&lt;/li&gt;
&lt;li&gt;五一结束前估计搞不完了，看看 5 月中旬能不能搞完&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;写了点小工具，不过是重复造轮子罢了,,,&lt;/li&gt;
&lt;li&gt;重启 leetcode, 好久没刷了，每天花一点点时间刷刷&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="completed"&gt;Completed
&lt;/h3&gt;&lt;h3 id="uncompleted"&gt;Uncompleted
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;CS188proj2, proj3
&lt;ul&gt;
&lt;li&gt;还有前面的 discussion&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="next-week-plan"&gt;Next Week Plan
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;等待五一爽学爽玩&lt;/li&gt;
&lt;li&gt;每天抽时间看书，刷 leetcode&lt;/li&gt;
&lt;li&gt;&lt;input checked="" disabled="" type="checkbox"&gt; CS188proj2 🔺 ➕ 2025-04-27 📅 2025-04-30 ✅ 2025-04-29&lt;/li&gt;
&lt;li&gt;&lt;input checked="" disabled="" type="checkbox"&gt; CS188proj3 🔺 ➕ 2025-04-29 ⏳ 2025-05-02 📅 2025-05-02 ✅ 2025-05-0a1&lt;/li&gt;
&lt;li&gt;&lt;input checked="" disabled="" type="checkbox"&gt; CS70 概率论部分 note ⏫ ➕ 2025-04-29 📅 2025-05-11&lt;/li&gt;
&lt;li&gt;&lt;input checked="" disabled="" type="checkbox"&gt; CS188discussion 🔼 ➕ 2025-04-29 ✅ 2025-06-09&lt;/li&gt;
&lt;li&gt;&lt;input checked="" disabled="" type="checkbox"&gt; 线代期末复习 🔺 📅 2025-05-05 ✅ 2025-05-08&lt;/li&gt;
&lt;li&gt;&lt;input checked="" disabled="" type="checkbox"&gt; 电路作业 ⏫ ⏳ 2025-05-05 ✅ 2025-05-08&lt;/li&gt;
&lt;li&gt;&lt;input checked="" disabled="" type="checkbox"&gt; 电路大物实验报告 🔼 ⏳ 2025-05-02 ✅ 2025-05-03&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="thoughts"&gt;THOUGHTS
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;折腾的最终境界就是默认配置&amp;hellip;&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>2025-W22-06</title><link>https://mcig-ggg.github.io/p/2025-w22-06/</link><pubDate>Wed, 08 Oct 2025 00:00:00 +0000</pubDate><guid>https://mcig-ggg.github.io/p/2025-w22-06/</guid><description>&lt;h1 id="2025-w22-06"&gt;2025-W22-06
&lt;/h1&gt;&lt;h2 id="review"&gt;Review
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;好久没写周结了, 上次写都整整一个月前了&amp;hellip;&amp;hellip;,&lt;/li&gt;
&lt;li&gt;上个月课内事情很多, 没时间学课外的&lt;/li&gt;
&lt;li&gt;重新折腾了下博客&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="completed"&gt;Completed
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;CS188
&lt;ul&gt;
&lt;li&gt;看到 bayes net&lt;/li&gt;
&lt;li&gt;写到 proj4, 没动了, 打算暑假继续&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;CS70
&lt;ul&gt;
&lt;li&gt;看了一点点然后没看了, 暑假继续&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;后面开看计网了, 看的中科大计网, 打算暑假写写 CS144 的 lab
&lt;ul&gt;
&lt;li&gt;目前刚看到网络层&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="uncompleted"&gt;Uncompleted
&lt;/h3&gt;&lt;h2 id="next-week-plan"&gt;Next Week Plan
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;最后一周, 要结课了, 要开始准备下课内的考试了
&lt;ul&gt;
&lt;li&gt;其实下周就有公选课的考试&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;继续看计网, 打算放假前看完中科大计网&lt;/li&gt;
&lt;li&gt;暑假打算看 jyyos, 之前就看了一点, 看完再看 6.824&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="thoughts"&gt;THOUGHTS
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;下学期想找实习&lt;/li&gt;
&lt;li&gt;有点想学 go
&lt;ul&gt;
&lt;li&gt;下学期不想找离学校太远的, 然后附近的公司基本是 cpp, java, go, 然后不太想学 java&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;然后感觉自己好像还是对传统互联网感兴趣一点, 也许就决定走这条路了, 不过也要多了解最新的技术&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>2025-W24-06</title><link>https://mcig-ggg.github.io/p/2025-w24-06/</link><pubDate>Wed, 08 Oct 2025 00:00:00 +0000</pubDate><guid>https://mcig-ggg.github.io/p/2025-w24-06/</guid><description>&lt;h1 id="2025-w24-06"&gt;2025-W24-06
&lt;/h1&gt;&lt;h2 id="review"&gt;Review
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;这周做了一堆实验, 实验报告要写死了&lt;/li&gt;
&lt;li&gt;课外的事情没做啥, 到处折腾了一点&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="completed"&gt;Completed
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;看了点 cs144 的proj, 感觉有点意思&lt;/li&gt;
&lt;li&gt;开始学 go, 语法基本差不多, 主要是多一个 go routine 和channel&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="uncompleted"&gt;Uncompleted
&lt;/h3&gt;&lt;h2 id="next-week-plan"&gt;Next Week Plan
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;把 go 基本语法看完&lt;/li&gt;
&lt;li&gt;做个小项目&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="thoughts"&gt;THOUGHTS
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;感觉自己进入信息爆炸了, 天天闲着就看手机, 手机拿在手上不松的.&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>cs168proj2</title><link>https://mcig-ggg.github.io/p/cs168proj2/</link><pubDate>Wed, 08 Oct 2025 00:00:00 +0000</pubDate><guid>https://mcig-ggg.github.io/p/cs168proj2/</guid><description>&lt;p&gt;&lt;div class="admonition admonition-note"&gt;
&lt;div class="admonition-title"&gt;
Title
&lt;/div&gt;
&lt;div class="admonition-content"&gt;
好的协议不是防止所有错误，而是确保错误能被快速检测和修复
&lt;/div&gt;
&lt;/div&gt;
&lt;style&gt;
.admonition {
border-left: 4px solid #42a5f5;
background: #f5f7fa;
margin: 1.5em 0;
padding: 1em 1.2em;
border-radius: 6px;
}
.admonition-note { border-color: #42a5f5; }
.admonition-warning { border-color: #ffa726; background: #fff8e1; }
.admonition-info { border-color: #26c6da; background: #e0f7fa; }
.admonition-title {
font-weight: bold;
margin-bottom: 0.5em;
}
.admonition-content {
color: #000000;
font-size: 1em;
}
@media (prefers-color-scheme: dark) {
.admonition {
background: #2c3e50;
color: #ecf0f1;
}
.admonition-note { border-color: #42a5f5; }
.admonition-warning { border-color: #ffa726; background: #5d4037; }
.admonition-info { border-color: #26c6da; background: #004d40; }
.admonition-title {
color: #ecf0f1;
}
.admonition-content {
color: #ecf0f1;
}
}
&lt;/style&gt;
大概就是从头实现路由器算法的每个规则.&lt;/p&gt;
&lt;p&gt;每个需要实现的函数, 都会以事件驱动的方式, 被框架的模拟器调用. 所以我们只需要实现具体函数即可, 调用过程不用管.&lt;/p&gt;
&lt;h2 id="stage1-安装静态路由"&gt;stage1: 安装静态路由
&lt;/h2&gt;&lt;p&gt;先实现安装静态路由.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;由&amp;quot;一个节点第一次连接到一个路由器&amp;quot; 事件触发
比较简单, 没有什么太多说的.
大概讲一下 TableEntry:
&lt;div class="mermaid" id="mermaid-1"&gt;
classDiagram
class TableEntry {
+dst : 目的地址
+port : 下一跳端口
+latency : 路径代价/延迟
+expire_time : 过期时间
}
&lt;/div&gt;
&lt;script&gt;
document.addEventListener('DOMContentLoaded', function() {
mermaid.initialize({
startOnLoad: true,
theme: 'default',
securityLevel: 'loose',
flowchart: {
htmlLabels: true,
curve: 'basis'
}
});
mermaid.init(undefined, "#mermaid-1");
});
&lt;/script&gt;
&lt;div class="admonition admonition-note"&gt;
&lt;div class="admonition-title"&gt;
Title
&lt;/div&gt;
&lt;div class="admonition-content"&gt;
这里的 latency 就相当于课本里所说的 cost
&lt;/div&gt;
&lt;/div&gt;
&lt;style&gt;
.admonition {
border-left: 4px solid #42a5f5;
background: #f5f7fa;
margin: 1.5em 0;
padding: 1em 1.2em;
border-radius: 6px;
}
.admonition-note { border-color: #42a5f5; }
.admonition-warning { border-color: #ffa726; background: #fff8e1; }
.admonition-info { border-color: #26c6da; background: #e0f7fa; }
.admonition-title {
font-weight: bold;
margin-bottom: 0.5em;
}
.admonition-content {
color: #000000;
font-size: 1em;
}
@media (prefers-color-scheme: dark) {
.admonition {
background: #2c3e50;
color: #ecf0f1;
}
.admonition-note { border-color: #42a5f5; }
.admonition-warning { border-color: #ffa726; background: #5d4037; }
.admonition-info { border-color: #26c6da; background: #004d40; }
.admonition-title {
color: #ecf0f1;
}
.admonition-content {
color: #ecf0f1;
}
}
&lt;/style&gt;
TableEntry 只告诉你我这个路由器能到哪里, 以及下一步你该去哪里.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="stage2-转发数据包"&gt;stage2: 转发数据包
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;用 packet 的 dst ,从&lt;em&gt;路由表&lt;/em&gt;中找到&lt;em&gt;对应的路由表项&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;检查路由表项是否为空 or 路由表项. latency &amp;gt;= INFINITY
&lt;ul&gt;
&lt;li&gt;如果为 false: 说明这个 packet 可以转发 (有下一个目的地, 且下一个目的地可以到达 (latency &amp;lt; INFINITY))&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="stage3-转发路由表"&gt;stage3: 转发路由表
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;对某一个路由器,定时转发其所有路由表项, 向其所有邻居&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="admonition admonition-note"&gt;
&lt;div class="admonition-title"&gt;
Title
&lt;/div&gt;
&lt;div class="admonition-content"&gt;
要向该路由器所有邻居转发其所有路由表项
从路由表中查找到各个邻居需要走的端口, 从那些端口转发自己所有的路由表项.
&lt;/div&gt;
&lt;/div&gt;
&lt;style&gt;
.admonition {
border-left: 4px solid #42a5f5;
background: #f5f7fa;
margin: 1.5em 0;
padding: 1em 1.2em;
border-radius: 6px;
}
.admonition-note { border-color: #42a5f5; }
.admonition-warning { border-color: #ffa726; background: #fff8e1; }
.admonition-info { border-color: #26c6da; background: #e0f7fa; }
.admonition-title {
font-weight: bold;
margin-bottom: 0.5em;
}
.admonition-content {
color: #000000;
font-size: 1em;
}
@media (prefers-color-scheme: dark) {
.admonition {
background: #2c3e50;
color: #ecf0f1;
}
.admonition-note { border-color: #42a5f5; }
.admonition-warning { border-color: #ffa726; background: #5d4037; }
.admonition-info { border-color: #26c6da; background: #004d40; }
.admonition-title {
color: #ecf0f1;
}
.admonition-content {
color: #ecf0f1;
}
}
&lt;/style&gt;
&lt;h2 id="stage4-更新路由表"&gt;stage4: 更新路由表
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;当路由器从邻居收到一条到某个目的地（route_dst）的路由通告时，决定是否更新自己的路由表。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="主要流程"&gt;主要流程
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;计算总延迟&lt;/strong&gt;&lt;br&gt;
&lt;code&gt;total_latency = route_latency + self.ports.get_latency(port)&lt;/code&gt;&lt;br&gt;
总延迟 = 邻居到目的地的延迟 + 本地到邻居的延迟&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;设置过期时间&lt;/strong&gt;&lt;br&gt;
&lt;code&gt;expire_time = api.current_time() + self.ROUTE_TTL&lt;/code&gt;&lt;br&gt;
路由项的有效期&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;路由表更新规则&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;如果路由表中没有该目的地（route_dst），直接添加新项。&lt;/li&gt;
&lt;li&gt;如果已有该目的地：
&lt;ul&gt;
&lt;li&gt;如果原来的下一跳端口就是这次收到通告的端口，直接更新（刷新延迟和过期时间）。&lt;/li&gt;
&lt;li&gt;如果新通告的总延迟更小，则更新为更优的路径。&lt;/li&gt;
&lt;li&gt;否则，不做任何更改。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="stage5-处理超时"&gt;stage5: 处理超时
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;定期检查路由表，把已经过期的路由项删除，保证路由表的有效性和准确性。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="主要流程-1"&gt;主要流程
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;遍历路由表所有项&lt;/strong&gt;&lt;br&gt;
&lt;code&gt;for _, table_entry in list(t.items()):&lt;/code&gt;&lt;br&gt;
遍历当前路由表中的每一项。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;判断是否过期&lt;/strong&gt;&lt;br&gt;
&lt;code&gt;if table_entry.expire_time != FOREVER and table_entry.expire_time &amp;lt; api.current_time():&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;如果该路由项的过期时间不是永久（FOREVER），并且已经小于当前时间（即已经过期），则进入下一步。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;日志记录&lt;/strong&gt;&lt;br&gt;
&lt;code&gt;self.log(f&amp;quot;Route expired: dst={table_entry.dst}, port={table_entry.port}, latency={table_entry.latency}&amp;quot;)&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;记录一条日志，说明哪一项已经过期。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;删除过期项&lt;/strong&gt;&lt;br&gt;
&lt;code&gt;t.pop(table_entry.dst)&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;从路由表中删除这条过期的路由项。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;基本的路由器功能已经实现, 下面是一些优化和问题修复&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="stage6-水平分割"&gt;stage6: 水平分割
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;水平分割: 在路由器互相发通告, 转发路由表的时候,不向学到该路由的端口通告该路由, 防止两个路由器无限循环互相转发数据 (也仅能防止两个路由器, 三个及以上做不到)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="stage7-poison-reverse"&gt;stage7: Poison Reverse
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;Poison Reverse: 如果我的到达某目的地的最短路径是通过你，那么我在通告你的时候，告诉你我到该目的地的距离是无穷大&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="stage8-counting-to-infinity"&gt;stage8: Counting to Infinity
&lt;/h2&gt;&lt;p&gt;以上两种方式都无法避免:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;假设A、B、C形成环，A到C的链路断开：
&lt;ul&gt;
&lt;li&gt;A发现到C不可达，距离变大。&lt;/li&gt;
&lt;li&gt;B还没意识到，告诉A“我到C距离是2”，A更新为3。&lt;/li&gt;
&lt;li&gt;下一轮，B又从A学到“3”，B更新为4……&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;核心思想：只要距离超过INFINITY，通告时就直接用INFINITY，防止路由器之间互相“抬高”距离，网络能快速收敛。
&lt;ul&gt;
&lt;li&gt;把大于 INFINITY 的距离直接设为 INFINITY，核心目的就是为了防止路由器之间继续互相“抬高”数值&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="stage9-poisoning-expired-routes"&gt;stage9: Poisoning Expired Routes
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;当路由过期时，不是直接删除它，而是将其标记为无限大（毒化），并继续传播这个&amp;rsquo;死亡通知&amp;rsquo;一段时间&lt;/li&gt;
&lt;li&gt;直接删除的核心问题：信息黑洞效应
&lt;ul&gt;
&lt;li&gt;当路由器直接删除失效路由时，会立即形成信息真空：
下游路由器不知情：相邻路由器仍需等待自己的超时计时器到期
临时环路风险：其他节点可能继续向已删除路由的节点发送流量
典型案例（7节点拓扑）：
h1 &amp;ndash; s1 &amp;ndash; s2 &amp;ndash; s3 &amp;ndash; s4 &amp;ndash; s5 &amp;ndash; s6 &amp;ndash; s7
当s1-s2断开：
若s2直接删除h1路由：
s3仍认为可通过s2到达h1（跳数=3）
s3继续向s2转发数据包 → 黑洞丢包
&lt;div class="admonition admonition-note"&gt;
&lt;div class="admonition-title"&gt;
title
&lt;/div&gt;
&lt;div class="admonition-content"&gt;
删除是简单的，但正确的删除需要智慧
&lt;/div&gt;
&lt;/div&gt;
&lt;style&gt;
.admonition {
border-left: 4px solid #42a5f5;
background: #f5f7fa;
margin: 1.5em 0;
padding: 1em 1.2em;
border-radius: 6px;
}
.admonition-note { border-color: #42a5f5; }
.admonition-warning { border-color: #ffa726; background: #fff8e1; }
.admonition-info { border-color: #26c6da; background: #e0f7fa; }
.admonition-title {
font-weight: bold;
margin-bottom: 0.5em;
}
.admonition-content {
color: #000000;
font-size: 1em;
}
@media (prefers-color-scheme: dark) {
.admonition {
background: #2c3e50;
color: #ecf0f1;
}
.admonition-note { border-color: #42a5f5; }
.admonition-warning { border-color: #ffa726; background: #5d4037; }
.admonition-info { border-color: #26c6da; background: #004d40; }
.admonition-title {
color: #ecf0f1;
}
.admonition-content {
color: #ecf0f1;
}
}
&lt;/style&gt; &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="stage10-触发更新"&gt;stage10: 触发更新
&lt;/h2&gt;&lt;h3 id="1-历史记录结构selfhistory"&gt;1. 历史记录结构（self.history）
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;在&lt;code&gt;__init__&lt;/code&gt;中添加了&lt;code&gt;self.history = {}&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;结构为： &lt;code&gt;{port: {dst: latency}}&lt;/code&gt; (一个嵌套字典)&lt;/li&gt;
&lt;li&gt;作用：记录“上次通过每个端口(port)通告给每个目的地(dst)的延迟(latency)”。&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="2-辅助函数"&gt;2. 辅助函数
&lt;/h3&gt;&lt;h4 id="should_advertiseself-port-dst-latency"&gt;should_advertise(self, port, dst, latency)
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;判断是否需要通告。&lt;/li&gt;
&lt;li&gt;如果历史中没有该端口或目的地，说明是第一次通告，返回True。&lt;/li&gt;
&lt;li&gt;如果历史中有，但延迟发生了变化，也返回True。&lt;/li&gt;
&lt;li&gt;否则返回False（即内容没变，不需要通告）。&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="update_historyself-port-dst-latency"&gt;update_history(self, port, dst, latency)
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;每次通告后，更新历史记录。&lt;/li&gt;
&lt;li&gt;保证下次判断时有最新的历史数据。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="3-send_routes"&gt;3. send_routes
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;遍历所有端口和路由表项。&lt;/li&gt;
&lt;li&gt;对于每个端口-目的地组合，先判断是否需要通告（force为True时无条件通告）。&lt;/li&gt;
&lt;li&gt;只有需要通告时才真正发送，并更新历史。&lt;/li&gt;
&lt;li&gt;支持&lt;code&gt;single_port&lt;/code&gt;参数，只向指定端口通告（用于链路刚上线时）。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="4-handle_route_advertisement"&gt;4. handle_route_advertisement
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;收到邻居的路由通告时，只有当本地路由表真的被更新（新增、更优、同端口刷新）时，才调用&lt;code&gt;self.send_routes(force=False)&lt;/code&gt;，即只在有变化时触发增量通告。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="5-handle_link_up"&gt;5. handle_link_up
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;当有新链路上线时，如果&lt;code&gt;SEND_ON_LINK_UP&lt;/code&gt;为True，立即用&lt;code&gt;send_routes(force=True, single_port=port)&lt;/code&gt;向新邻居通告所有路由。&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="6-handle_link_down"&gt;6. handle_link_down
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;当链路断开时：
&lt;ul&gt;
&lt;li&gt;如果&lt;code&gt;POISON_ON_LINK_DOWN&lt;/code&gt;为True，把所有走该端口的路由毒化（latency=INFINITY），并用&lt;code&gt;send_routes(force=False)&lt;/code&gt;增量通告毒化结果。&lt;/li&gt;
&lt;li&gt;否则，直接删除所有走该端口的路由。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id="7-增量通告的核心"&gt;7. 增量通告的核心
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;只通告“有变化”的路由（即历史记录和当前要通告的内容不同）。&lt;/li&gt;
&lt;li&gt;这样可以减少冗余消息，提高网络效率。&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>CS188：从搜索问题到RL</title><link>https://mcig-ggg.github.io/p/cs188%E4%BB%8E%E6%90%9C%E7%B4%A2%E9%97%AE%E9%A2%98%E5%88%B0rl/</link><pubDate>Wed, 08 Oct 2025 00:00:00 +0000</pubDate><guid>https://mcig-ggg.github.io/p/cs188%E4%BB%8E%E6%90%9C%E7%B4%A2%E9%97%AE%E9%A2%98%E5%88%B0rl/</guid><description>&lt;img src="https://mcig-ggg.github.io/p/cs188%E4%BB%8E%E6%90%9C%E7%B4%A2%E9%97%AE%E9%A2%98%E5%88%B0rl/Pasted-image-20250424203806.png" alt="Featured image of post CS188：从搜索问题到RL" /&gt;&lt;hr&gt;
&lt;h1 id="cs188从搜索问题到-rl人工智能决策算法的演进之路"&gt;CS188：从搜索问题到 RL——人工智能决策算法的演进之路
&lt;/h1&gt;&lt;p&gt;UC Berkeley 的 CS188 课程（人工智能导论）以“构建智能体的决策能力”为核心，从经典的搜索算法到现代强化学习（Reinforcement Learning, RL），系统性地揭示了人工智能如何在复杂环境中规划路径、解决问题并优化策略。本文将沿着课程脉络，梳理从基础搜索到强化学习的演进逻辑，并探讨其背后的核心思想。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="第一部分确定性世界的决策基础搜索问题"&gt;&lt;strong&gt;第一部分：确定性世界的决策基础——搜索问题&lt;/strong&gt;
&lt;/h2&gt;&lt;h3 id="1-搜索问题的数学定义"&gt;&lt;strong&gt;1. 搜索问题的数学定义&lt;/strong&gt;
&lt;/h3&gt;&lt;p&gt;搜索问题的目标是找到从&lt;strong&gt;初始状态&lt;/strong&gt;到&lt;strong&gt;目标状态&lt;/strong&gt;的最优路径（或满足条件的可行路径）。其核心在于形式化环境的结构，使智能体能够系统化地探索可能的行动序列。&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="2-搜索问题的构成要素"&gt;&lt;strong&gt;2. 搜索问题的构成要素&lt;/strong&gt;
&lt;/h3&gt;&lt;h4 id="1-状态空间state-space"&gt;&lt;strong&gt;(1) 状态空间（State Space）&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;定义&lt;/strong&gt;：所有可能状态的集合，描述智能体在环境中的可能配置。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;示例&lt;/strong&gt;：
&lt;ul&gt;
&lt;li&gt;迷宫问题：状态是坐标 &lt;code&gt;(x, y)&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;拼图游戏：状态是棋盘的布局（如八数码问题）。&lt;/li&gt;
&lt;li&gt;机器人导航：状态是机器人的位置与朝向。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="2-动作集合actions"&gt;&lt;strong&gt;(2) 动作集合（Actions）&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;定义&lt;/strong&gt;：在某个状态下可执行的操作集合，记为 &lt;code&gt;Actions(s)&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;示例&lt;/strong&gt;：
&lt;ul&gt;
&lt;li&gt;迷宫中：&lt;code&gt;{上, 下, 左, 右}&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;拼图游戏：&lt;code&gt;{空格与相邻数字交换}&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;自动驾驶：&lt;code&gt;{加速, 刹车, 左转, 右转}&lt;/code&gt;。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="3-转移模型transition-model"&gt;&lt;strong&gt;(3) 转移模型（Transition Model）&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;定义&lt;/strong&gt;：函数 &lt;code&gt;Result(s, a) → s'&lt;/code&gt;，描述在状态 &lt;code&gt;s&lt;/code&gt; 执行动作 &lt;code&gt;a&lt;/code&gt; 后到达的下一状态 &lt;code&gt;s'&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;示例&lt;/strong&gt;：
&lt;ul&gt;
&lt;li&gt;迷宫中：&lt;code&gt;Result((x,y), 上) → (x, y+1)&lt;/code&gt;（假设坐标系向上为y轴正方向）。&lt;/li&gt;
&lt;li&gt;拼图游戏：&lt;code&gt;Result(当前布局, 左移空格) → 新布局&lt;/code&gt;。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="4-动作成本action-cost"&gt;&lt;strong&gt;(4) 动作成本（Action Cost）&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;定义&lt;/strong&gt;：从状态 &lt;code&gt;s&lt;/code&gt; 通过动作 &lt;code&gt;a&lt;/code&gt; 转移到 &lt;code&gt;s'&lt;/code&gt; 的即时成本，记为 &lt;code&gt;Cost(s, a, s')&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;作用&lt;/strong&gt;：用于衡量路径的优劣（如最短路径、最低能耗）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;示例&lt;/strong&gt;：
&lt;ul&gt;
&lt;li&gt;迷宫中：每步成本为1（路径长度即总成本）。&lt;/li&gt;
&lt;li&gt;导航问题：成本为道路长度或行驶时间。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="5-初始状态start-state"&gt;&lt;strong&gt;(5) 初始状态（Start State）&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;定义&lt;/strong&gt;：智能体开始执行任务时的初始配置。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;示例&lt;/strong&gt;：
&lt;ul&gt;
&lt;li&gt;罗马尼亚度假问题：初始状态是城市 &lt;code&gt;Arad&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;拼图游戏：初始状态是打乱的棋盘布局。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="6-目标测试goal-test"&gt;&lt;strong&gt;(6) 目标测试（Goal Test）&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;定义&lt;/strong&gt;：函数 &lt;code&gt;GoalTest(s) → True/False&lt;/code&gt;，判断状态 &lt;code&gt;s&lt;/code&gt; 是否为目标状态。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;示例&lt;/strong&gt;：
&lt;ul&gt;
&lt;li&gt;迷宫问题：&lt;code&gt;GoalTest((x,y)) → (x,y)是否为终点坐标&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;拼图游戏：&lt;code&gt;GoalTest(s) → s是否为目标布局&lt;/code&gt;。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="3-搜索问题的求解目标"&gt;&lt;strong&gt;3. 搜索问题的求解目标&lt;/strong&gt;
&lt;/h3&gt;&lt;p&gt;智能体需要找到从初始状态到目标状态的&lt;strong&gt;最优路径&lt;/strong&gt;（或可行路径），其中“最优”由&lt;strong&gt;路径总成本&lt;/strong&gt;定义。例如：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;最短路径&lt;/strong&gt;：动作成本为1时，BFS可找到最优解。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;最低成本路径&lt;/strong&gt;：动作成本不同时，需使用一致代价搜索（UCS）。&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="4-示例罗马尼亚度假问题"&gt;&lt;strong&gt;4. 示例：罗马尼亚度假问题&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;状态空间&lt;/strong&gt;：罗马尼亚城市（如Arad, Bucharest, Sibiu等）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;动作&lt;/strong&gt;：从当前城市可直达的相邻城市（如从Arad可到Sibiu、Timisoara等）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;转移模型&lt;/strong&gt;：&lt;code&gt;Result(Arad, 前往Sibiu) → Sibiu&lt;/code&gt;。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;动作成本&lt;/strong&gt;：城市间的道路长度（如Arad到Sibiu为140公里）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;初始状态&lt;/strong&gt;：Arad。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;目标测试&lt;/strong&gt;：当前城市是否为Bucharest。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;求解目标&lt;/strong&gt;：找到从Arad到Bucharest的最短路径（如Arad → Sibiu → Rimnicu Vilcea → Pitesti → Bucharest）。&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id="5-搜索问题与智能体的关系"&gt;&lt;strong&gt;5. 搜索问题与智能体的关系&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;理性决策&lt;/strong&gt;：智能体需在有限计算资源下，选择能最大化未来累积奖励（或最小化成本）的行动。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;搜索算法的角色&lt;/strong&gt;：通过系统化地探索状态空间（如BFS、A*、UCS等），找到满足目标的最优路径。&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="6-关键挑战"&gt;&lt;strong&gt;6. 关键挑战&lt;/strong&gt;
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;状态空间爆炸&lt;/strong&gt;：状态数量可能随问题规模指数增长（如棋盘游戏）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;最优性与效率的权衡&lt;/strong&gt;：如何在合理时间内找到最优解（如启发式搜索A*）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;动态环境&lt;/strong&gt;：若环境变化（如交通拥堵），需重新规划路径（需结合在线搜索）。&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h3 id="总结"&gt;&lt;strong&gt;总结&lt;/strong&gt;
&lt;/h3&gt;&lt;p&gt;搜索问题的形式化定义为智能体提供了在复杂环境中规划行动的数学框架。通过明确状态空间、动作、转移模型等要素，结合适当的搜索算法（如BFS、A*、UCS），智能体能够高效地找到从初始状态到目标状态的最优路径。这一过程是构建理性规划智能体的基础，也是后续学习更高级算法（如强化学习）的前提。&lt;/p&gt;
&lt;h2 id="hahahugoshortcode14s0hbhb"&gt;&lt;div class="admonition admonition-note"&gt;
&lt;div class="admonition-title"&gt;
搜索问题的解法
&lt;/div&gt;
&lt;div class="admonition-content"&gt;
&lt;ul&gt;
&lt;li&gt;把搜索问题抽象成图论问题
&lt;ul&gt;
&lt;li&gt;把每个状态看成一个节点&lt;/li&gt;
&lt;li&gt;把每个action 看成节点之间的有向边&lt;/li&gt;
&lt;li&gt;用图的搜索算法来解决搜索问题&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;style&gt;
.admonition {
border-left: 4px solid #42a5f5;
background: #f5f7fa;
margin: 1.5em 0;
padding: 1em 1.2em;
border-radius: 6px;
}
.admonition-note { border-color: #42a5f5; }
.admonition-warning { border-color: #ffa726; background: #fff8e1; }
.admonition-info { border-color: #26c6da; background: #e0f7fa; }
.admonition-title {
font-weight: bold;
margin-bottom: 0.5em;
}
.admonition-content {
color: #000000;
font-size: 1em;
}
@media (prefers-color-scheme: dark) {
.admonition {
background: #2c3e50;
color: #ecf0f1;
}
.admonition-note { border-color: #42a5f5; }
.admonition-warning { border-color: #ffa726; background: #5d4037; }
.admonition-info { border-color: #26c6da; background: #004d40; }
.admonition-title {
color: #ecf0f1;
}
.admonition-content {
color: #ecf0f1;
}
}
&lt;/style&gt;
&lt;/h2&gt;&lt;h2 id="第二部分不确定性与动态环境从-mdp-到强化学习"&gt;&lt;strong&gt;第二部分：不确定性与动态环境——从 MDP 到强化学习&lt;/strong&gt;
&lt;/h2&gt;&lt;h3 id="1-马尔可夫决策过程mdp"&gt;&lt;strong&gt;1. 马尔可夫决策过程（MDP）&lt;/strong&gt;
&lt;/h3&gt;&lt;p&gt;MDP 是建模随机环境的数学框架，包含：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;状态 $s$ 、动作 $a$ 、转移概率 $T(s,a,s&amp;rsquo;)$&lt;/strong&gt;：动作可能导致多个后续状态。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;**奖励函数 $R(s,a,s&amp;rsquo;)$ **：定义每个状态的即时收益。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;**折扣因子 $\gamma$ **：权衡当前与未来奖励。&lt;br&gt;
&lt;img src="https://mcig-ggg.github.io/p/cs188%E4%BB%8E%E6%90%9C%E7%B4%A2%E9%97%AE%E9%A2%98%E5%88%B0rl/Pasted-image-20250424203806.png"
width="1920"
height="998"
srcset="https://mcig-ggg.github.io/p/cs188%E4%BB%8E%E6%90%9C%E7%B4%A2%E9%97%AE%E9%A2%98%E5%88%B0rl/Pasted-image-20250424203806_hu_cd3d5b8b4f9b483e.png 480w, https://mcig-ggg.github.io/p/cs188%E4%BB%8E%E6%90%9C%E7%B4%A2%E9%97%AE%E9%A2%98%E5%88%B0rl/Pasted-image-20250424203806_hu_2a902aba1fa584f2.png 1024w"
loading="lazy"
alt="Pasted image 20250424203806.png"
class="gallery-image"
data-flex-grow="192"
data-flex-basis="461px"
&gt;
&lt;strong&gt;求解方法&lt;/strong&gt;：&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;值迭代&lt;/strong&gt;：通过贝尔曼方程迭代更新值函数，收敛到最优策略。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;img src="https://mcig-ggg.github.io/p/cs188%E4%BB%8E%E6%90%9C%E7%B4%A2%E9%97%AE%E9%A2%98%E5%88%B0rl/Pasted-image-20250425133751.png"
width="1932"
height="1082"
srcset="https://mcig-ggg.github.io/p/cs188%E4%BB%8E%E6%90%9C%E7%B4%A2%E9%97%AE%E9%A2%98%E5%88%B0rl/Pasted-image-20250425133751_hu_2d5f0c47e67d6b60.png 480w, https://mcig-ggg.github.io/p/cs188%E4%BB%8E%E6%90%9C%E7%B4%A2%E9%97%AE%E9%A2%98%E5%88%B0rl/Pasted-image-20250425133751_hu_6256398997e4fbcb.png 1024w"
loading="lazy"
alt="Pasted image 20250425133751.png"
class="gallery-image"
data-flex-grow="178"
data-flex-basis="428px"
&gt;&lt;/li&gt;
&lt;li&gt;公式： $$V_{k+1}(s) = \max_{a}\sum_{s'}T(s,a,s')[R(s,a,s')+\gamma V_{k}(s')]$$
&lt;ul&gt;
&lt;li&gt;用 $s$ 的下一个状态 $s&amp;rsquo;$ 的第 $k$ 次迭代的V 值 $V_{k}(s&amp;rsquo;)$ 来更新第 $k+1$ 迭代的状态 $s$ 的V 值 $V_{k+1}(s)$&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;策略迭代&lt;/strong&gt;：交替执行策略评估与改进，直接优化策略。
两个步骤：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;策略评价
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;目标&lt;/strong&gt;：计算当前策略 $\pi$ 的状态值函数 $V^\pi(s)$ 。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;方法&lt;/strong&gt;：通过迭代求解贝尔曼期望方程：
$$V^\pi(s) = \sum_{a} \pi(a|s) \left[ R(s,a) + \gamma \sum_{s'} P(s'|s,a) V^\pi(s') \right]$$
其中：
&lt;ul&gt;
&lt;li&gt;$R(s,a)$ 是即时奖励，&lt;/li&gt;
&lt;li&gt;$P(s&amp;rsquo;|s,a)$ 是状态转移概率，&lt;/li&gt;
&lt;li&gt;$\gamma$ 是折扣因子。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;终止条件&lt;/strong&gt;：当值函数的变化小于阈值 $\theta$（如 $10^{-3}$）时停止迭代。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;策略改进/策略提取
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;目标&lt;/strong&gt;：基于当前值函数 $V^\pi(s)$ 生成更优策略 $\pi&amp;rsquo;$ 。
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;方法&lt;/strong&gt;：对每个状态 $s$，选择使动作值函数 $Q^\pi(s,a)$ 最大的动作：
$$\pi'(s) = \arg\max_{a} \left[ R(s,a) + \gamma \sum_{s'} P(s'|s,a) V^\pi(s') \right]$$&lt;/li&gt;
&lt;li&gt;若新策略 $\pi&amp;rsquo;$ 与原策略 $\pi$ 相同，则停止迭代；否则，用 $\pi&amp;rsquo;$ 替代 $\pi$ ，重复策略评估。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id="2-强化学习rl无模型的动态决策"&gt;&lt;strong&gt;2. 强化学习（RL）：无模型的动态决策&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;RL 问题：仍然是MDP 模型，但是不知道 $T(s,a,s&amp;rsquo;)$ 或 $R(s,a,s&amp;rsquo;)$
&lt;ul&gt;
&lt;li&gt;两个主要问题：
&lt;ul&gt;
&lt;li&gt;怎么从尝试过的动作中学习（被动RL）
&lt;ul&gt;
&lt;li&gt;两种解决办法：
&lt;ul&gt;
&lt;li&gt;基于模型的RL：尝试获取 $T(s,a,s&amp;rsquo;)$ 或者 $R(s,a,s&amp;rsquo;)$ ，从而变回MDP 问题，用策略迭代或者值迭代即可&lt;/li&gt;
&lt;li&gt;不基于模型的RL：不获取 $T(s,a,s&amp;rsquo;)$ 或者 $R(s,a,s&amp;rsquo;)$ ，直接通过 $Q$ 值来学习策略 $\pi$&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;怎么基于学到的东西去选择执行的动作（在探索（尝试新动作以发现更好策略）和利用（选择当前最优动作）之间权衡）（主动RL）：
&lt;ul&gt;
&lt;li&gt;$\epsilon$ -贪心： $\epsilon$ 的概率随机探索（exploration）， $1-\epsilon$ 的概率采取利用（exploitation）当前数据得出的最佳值&lt;/li&gt;
&lt;li&gt;exploration function&lt;/li&gt;
&lt;li&gt;等等&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="被动rl"&gt;被动RL
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;基于模型的RL和不基于模型的RL 的区别：
&lt;img src="https://mcig-ggg.github.io/p/cs188%E4%BB%8E%E6%90%9C%E7%B4%A2%E9%97%AE%E9%A2%98%E5%88%B0rl/Pasted-image-20250425144547.png"
width="1926"
height="1094"
srcset="https://mcig-ggg.github.io/p/cs188%E4%BB%8E%E6%90%9C%E7%B4%A2%E9%97%AE%E9%A2%98%E5%88%B0rl/Pasted-image-20250425144547_hu_1cd6dd1be1c58b61.png 480w, https://mcig-ggg.github.io/p/cs188%E4%BB%8E%E6%90%9C%E7%B4%A2%E9%97%AE%E9%A2%98%E5%88%B0rl/Pasted-image-20250425144547_hu_e5a6f85dfaf3e412.png 1024w"
loading="lazy"
alt="Pasted image 20250425144547.png"
class="gallery-image"
data-flex-grow="176"
data-flex-basis="422px"
&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="admonition admonition-note"&gt;
&lt;div class="admonition-title"&gt;
Title
&lt;/div&gt;
&lt;div class="admonition-content"&gt;
&lt;ul&gt;
&lt;li&gt;左侧：基于数据去获取P（a），可以理解为对世界建模，理解概率的分布&lt;/li&gt;
&lt;li&gt;右侧：基于采样的数据直接获取A 的期望，并不知道概率分布（对世界的具体模型没有了解）&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;style&gt;
.admonition {
border-left: 4px solid #42a5f5;
background: #f5f7fa;
margin: 1.5em 0;
padding: 1em 1.2em;
border-radius: 6px;
}
.admonition-note { border-color: #42a5f5; }
.admonition-warning { border-color: #ffa726; background: #fff8e1; }
.admonition-info { border-color: #26c6da; background: #e0f7fa; }
.admonition-title {
font-weight: bold;
margin-bottom: 0.5em;
}
.admonition-content {
color: #000000;
font-size: 1em;
}
@media (prefers-color-scheme: dark) {
.admonition {
background: #2c3e50;
color: #ecf0f1;
}
.admonition-note { border-color: #42a5f5; }
.admonition-warning { border-color: #ffa726; background: #5d4037; }
.admonition-info { border-color: #26c6da; background: #004d40; }
.admonition-title {
color: #ecf0f1;
}
.admonition-content {
color: #ecf0f1;
}
}
&lt;/style&gt;
&lt;ul&gt;
&lt;li&gt;不基于模型的RL：当环境模型未知时，强化学习通过&lt;strong&gt;试错&lt;/strong&gt;直接学习策略。核心算法 Q 学习通过&lt;strong&gt;时序差分更新&lt;/strong&gt;逐步逼近最优动作价值函数：&lt;br&gt;
$$
Q (s, a) \leftarrow Q (s, a) + \alpha \left[ R (s, a) + \gamma \max_{a'} Q (s', a') - Q (s, a) \right]
$$&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="admonition admonition-note"&gt;
&lt;div class="admonition-title"&gt;
Q-learning 是离策略 (Off-policy)
&lt;/div&gt;
&lt;div class="admonition-content"&gt;
&lt;ul&gt;
&lt;li&gt;离策略算法的核心是将目标策略（Target Policy）的学习与行为策略（Behavior Policy）的数据收集过程分离。
&lt;ul&gt;
&lt;li&gt;目标策略（π） ：&lt;em&gt;希望学习的最优策略，通常通过最大化期望回报得到&lt;/em&gt;（如 Q-learning 中的贪婪策略）。&lt;/li&gt;
&lt;li&gt;行为策略（μ） ：用于&lt;em&gt;与环境交互、生成训练数据&lt;/em&gt;的策略，通常包含探索机制（如ε-greedy、Boltzmann 探索）。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;style&gt;
.admonition {
border-left: 4px solid #42a5f5;
background: #f5f7fa;
margin: 1.5em 0;
padding: 1em 1.2em;
border-radius: 6px;
}
.admonition-note { border-color: #42a5f5; }
.admonition-warning { border-color: #ffa726; background: #fff8e1; }
.admonition-info { border-color: #26c6da; background: #e0f7fa; }
.admonition-title {
font-weight: bold;
margin-bottom: 0.5em;
}
.admonition-content {
color: #000000;
font-size: 1em;
}
@media (prefers-color-scheme: dark) {
.admonition {
background: #2c3e50;
color: #ecf0f1;
}
.admonition-note { border-color: #42a5f5; }
.admonition-warning { border-color: #ffa726; background: #5d4037; }
.admonition-info { border-color: #26c6da; background: #004d40; }
.admonition-title {
color: #ecf0f1;
}
.admonition-content {
color: #ecf0f1;
}
}
&lt;/style&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;特性&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;离策略（Off-Policy）&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;在线策略（On-Policy）&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;策略关系&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;目标策略 ≠ 行为策略&lt;/td&gt;
&lt;td&gt;目标策略 = 行为策略&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;数据来源&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;可复用历史数据或外部数据&lt;/td&gt;
&lt;td&gt;必须实时与环境交互生成新数据&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;典型算法&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;Q-learning、DQN、DDPG、SAC&lt;/td&gt;
&lt;td&gt;SARSA、REINFORCE、PPO&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;数据效率&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;高（数据可重复使用）&lt;/td&gt;
&lt;td&gt;低（需持续交互）&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;strong&gt;实现复杂度&lt;/strong&gt;&lt;/td&gt;
&lt;td&gt;高（需处理分布偏移）&lt;/td&gt;
&lt;td&gt;低（策略一致性）&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;解释：
&lt;ul&gt;
&lt;li&gt;为什么学习 $Q$ 值而不是 $V$ 值：
&lt;ul&gt;
&lt;li&gt;如果使用 V 值，智能体需要知道环境的动态模型（即状态转移概率 $T(s,a,s&amp;rsquo;)$ 和奖励函数 $R(s,a,s&amp;rsquo;)$ ），才能通过贝尔曼方程计算动作的期望价值. 而通过直接学习 Q(s,a)，绕过了对环境模型的依赖&lt;/li&gt;
&lt;li&gt;Q值的灵活性与V值的不足 ：Q(s,a) 显式地为每个动作分配价值，允许智能体在探索（如随机动作）和利用（选择当前最优动作）之间灵活切换。若使用 V 值，智能体需要额外机制（如策略函数）将状态价值映射到动作选择，这会增加复杂度。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Q 学习 vs. MDP&lt;/strong&gt;：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;MDP 需已知环境模型（转移概率与奖励函数），RL 无需模型。&lt;/li&gt;
&lt;li&gt;Q 学习通过经验（状态-动作-奖励序列）直接学习，适用于动态环境。&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="主动rl"&gt;主动RL
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;$\epsilon$ - greedy&lt;/li&gt;
&lt;li&gt;exploration function
&lt;ul&gt;
&lt;li&gt;把通过某个 action $a&amp;rsquo;$ 到达某个状态 $s&amp;rsquo;$ 的次数 $N(s&amp;rsquo;,a&amp;rsquo;)$ 纳入考虑，用 $f(Q(s&amp;rsquo;,a&amp;rsquo;), N(s&amp;rsquo;,a&amp;rsquo;))$ 取代原先的 $Q(s&amp;rsquo;,a&amp;rsquo;)$ $$Q(s,a) \leftarrow (1-\alpha)Q(s,a) + \alpha[R(s,a,s') + \gamma \max_{a'}f(Q(s',a'), N(s',a'))]$$&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="approximate-q-learning-介绍"&gt;Approximate Q-learning 介绍
&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;Approximate Q-learning&lt;/strong&gt; 是经典 Q-learning 算法的扩展，旨在解决传统 Q-learning 在高维或连续状态空间中的&lt;strong&gt;维度灾难&lt;/strong&gt;问题。其核心思想是通过&lt;strong&gt;函数逼近&lt;/strong&gt;（Function Approximation）代替传统的表格（Tabular）存储，利用参数化的函数（如线性模型、神经网络）近似表示 Q 值，从而实现对大规模状态空间的泛化能力。&lt;/p&gt;
&lt;hr&gt;
&lt;h5 id="1-为什么需要-approximate-q-learning"&gt;&lt;strong&gt;1. 为什么需要 Approximate Q-learning？&lt;/strong&gt;
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;传统 Q-learning 的局限性&lt;/strong&gt;&lt;br&gt;
在表格型 Q-learning 中，Q 值存储为一个二维表 $Q(s, a)$，每个状态-动作对需要单独维护一个值。当状态空间巨大（如围棋的 $10^{170}$ 种状态）或连续（如机器人传感器数据）时，表格存储和更新变得不可行。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;函数逼近的优势&lt;/strong&gt;&lt;br&gt;
使用参数化函数 $Q(s, a; \theta)$（如线性模型、神经网络）代替表格，通过调整参数 $\theta$ 逼近真实 Q 值。这种方法可以：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;泛化&lt;/strong&gt;：相似状态共享参数，避免重复学习。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;处理连续状态&lt;/strong&gt;：直接接受实数向量作为输入（如传感器数据）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;降低存储成本&lt;/strong&gt;：参数规模远小于状态-动作组合数。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h5 id="2-算法原理"&gt;&lt;strong&gt;2. 算法原理&lt;/strong&gt;
&lt;/h5&gt;&lt;p&gt;&lt;strong&gt;Approximate Q-learning&lt;/strong&gt; 的更新规则基于传统 Q-learning，但引入函数逼近和梯度下降优化：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;目标 Q 值计算&lt;/strong&gt;&lt;br&gt;
与传统 Q-learning 类似，目标 Q 值为：
&lt;/p&gt;
$$\text{Target} = r + \gamma \max_{a'} Q(s', a'; \theta)$$&lt;p&gt;
其中 $s&amp;rsquo;$ 是下一状态，$\gamma$ 是折扣因子。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;损失函数与参数更新&lt;/strong&gt;&lt;br&gt;
定义损失函数为预测 Q 值与目标 Q 值的均方误差：
&lt;/p&gt;
$$L(\theta) = \frac{1}{2} \left[ Q(s, a; \theta) - \text{Target} \right]^2$$&lt;p&gt;
通过梯度下降更新参数 $\theta$：
&lt;/p&gt;
$$\theta \leftarrow \theta - \alpha \nabla_\theta L(\theta)$$&lt;p&gt;
其中 $\alpha$ 是学习率，梯度方向由链式法则计算：
&lt;/p&gt;
$$\nabla_\theta L(\theta) = \left( Q(s, a; \theta) - \text{Target} \right) \nabla_\theta Q(s, a; \theta)$$&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;伪代码示例&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;span class="lnt"&gt;5
&lt;/span&gt;&lt;span class="lnt"&gt;6
&lt;/span&gt;&lt;span class="lnt"&gt;7
&lt;/span&gt;&lt;span class="lnt"&gt;8
&lt;/span&gt;&lt;span class="lnt"&gt;9
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-python" data-lang="python"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;each&lt;/span&gt; &lt;span class="n"&gt;episode&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;initialize&lt;/span&gt; &lt;span class="n"&gt;state&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="n"&gt;terminal&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;choose&lt;/span&gt; &lt;span class="n"&gt;action&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="n"&gt;via&lt;/span&gt; &lt;span class="n"&gt;ε&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;greedy&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Q&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;θ&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;execute&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;observe&lt;/span&gt; &lt;span class="n"&gt;reward&lt;/span&gt; &lt;span class="n"&gt;r&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="nb"&gt;next&lt;/span&gt; &lt;span class="n"&gt;state&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;target&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;r&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;γ&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;max_a&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39; Q(s&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;; θ)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;loss&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mf"&gt;0.5&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Q&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;θ&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;target&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;^&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;θ&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;θ&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;α&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Q&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;θ&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;target&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="err"&gt;∇&lt;/span&gt;&lt;span class="n"&gt;θ&lt;/span&gt; &lt;span class="n"&gt;Q&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;θ&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h5 id="3-函数逼近方法"&gt;&lt;strong&gt;3. 函数逼近方法&lt;/strong&gt;
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;线性函数逼近&lt;/strong&gt;&lt;br&gt;
用线性组合表示 Q 值：&lt;br&gt;
&lt;/p&gt;
$$Q(s, a; \theta) = \theta^T \phi(s, a)$$&lt;p&gt;&lt;br&gt;
其中 $\phi(s, a)$ 是状态-动作的特征向量（如人工设计的特征或自动编码的特征）。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;非线性函数逼近（如神经网络）&lt;/strong&gt;&lt;br&gt;
使用深度神经网络（DQN）自动提取状态特征：&lt;br&gt;
&lt;/p&gt;
$$Q(s, a; \theta) = \text{NeuralNetwork}(s, a; \theta)$$&lt;p&gt;&lt;br&gt;
深度 Q 网络（DQN）通过&lt;strong&gt;经验回放&lt;/strong&gt;（Experience Replay）和&lt;strong&gt;目标网络&lt;/strong&gt;（Target Network）稳定训练。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h5 id="4-优缺点分析"&gt;&lt;strong&gt;4. 优缺点分析&lt;/strong&gt;
&lt;/h5&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;strong&gt;优点&lt;/strong&gt;&lt;/th&gt;
&lt;th&gt;&lt;strong&gt;缺点&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;可处理高维/连续状态空间&lt;/td&gt;
&lt;td&gt;收敛性不保证（函数逼近可能发散）&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;泛化能力强，避免维度灾难&lt;/td&gt;
&lt;td&gt;需谨慎设计特征或网络结构&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;适用于真实场景（如图像、传感器输入）&lt;/td&gt;
&lt;td&gt;超参数（学习率、网络架构）敏感&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr&gt;
&lt;h5 id="5-应用场景"&gt;&lt;strong&gt;5. 应用场景&lt;/strong&gt;
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;游戏 AI&lt;/strong&gt;：如 Atari 游戏（DQN 直接以像素为输入）&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;机器人控制&lt;/strong&gt;：连续传感器数据映射到动作（如机械臂抓取）&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;资源调度&lt;/strong&gt;：大规模状态空间下的动态决策（如云计算资源分配）&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h5 id="6-扩展与改进"&gt;&lt;strong&gt;6. 扩展与改进&lt;/strong&gt;
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;深度 Q 网络（DQN）&lt;/strong&gt;：结合神经网络与经验回放、目标网络（见 Nature DQN）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Double Q-learning&lt;/strong&gt;：减少最大化偏差（Maximization Bias）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Dueling DQN&lt;/strong&gt;：分离状态价值 $V(s)$ 和动作优势 $A(s, a)$，提升策略评估效率。&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id="1-策略搜索policy-search"&gt;&lt;strong&gt;1. 策略搜索（Policy Search）&lt;/strong&gt;
&lt;/h4&gt;&lt;p&gt;当基于特征的策略难以通过 Q-learning 直接优化时，策略搜索通过直接优化策略参数（而非 Q 值）提升性能。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;核心思想&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Q-learning 的局限&lt;/strong&gt;：Q-learning 优先准确估计 Q 值（建模），但特征设计的偏差可能导致策略次优。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;策略搜索的目标&lt;/strong&gt;：直接优化策略参数，最大化累积奖励（预测），而非精确拟合 Q 值。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;方法分类&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;简单策略搜索&lt;/strong&gt;：通过扰动特征权重（如线性 Q 函数的权重），评估策略改进方向（需大量采样）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;策略梯度（Policy Gradient）&lt;/strong&gt;：基于蒙特卡洛采样，通过梯度上升更新策略参数，使高奖励轨迹的动作概率增加。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;近端策略优化（PPO）&lt;/strong&gt;：改进策略梯度，限制策略更新的幅度，提升训练稳定性。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;应用场景&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;连续动作空间&lt;/strong&gt;（如机器人关节控制）：Q-learning 需计算 $\max_a Q(s,a)$，而连续动作难以枚举，策略搜索直接输出动作分布。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;高维/复杂策略&lt;/strong&gt;（如语言生成）：直接优化生成策略（如选择下一个词的概率分布）。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id="2-案例分析case-studies"&gt;&lt;strong&gt;2. 案例分析（Case Studies）&lt;/strong&gt;
&lt;/h4&gt;&lt;p&gt;强化学习在多个领域展现强大能力，以下是三个典型应用：&lt;/p&gt;
&lt;h5 id="案例-1atari-游戏atari-game-playing"&gt;&lt;strong&gt;案例 1：Atari 游戏（Atari Game Playing）&lt;/strong&gt;
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;MDP 设置&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;状态&lt;/strong&gt;：游戏屏幕的像素（$84 \times 84$ 图像）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;动作&lt;/strong&gt;：手柄按键组合（如 18 种离散动作）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;挑战&lt;/strong&gt;：状态空间巨大（$256^{84 \times 84}$），无法使用表格法。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;解决方案&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;深度 Q 网络（DQN）&lt;/strong&gt;：用卷积神经网络逼近 Q 值，结合经验回放和目标网络稳定训练。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;探索策略&lt;/strong&gt;：ε-greedy 平衡探索与利用。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id="案例-2机器人运动控制robot-locomotion"&gt;&lt;strong&gt;案例 2：机器人运动控制（Robot Locomotion）&lt;/strong&gt;
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;MDP 设置&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;状态&lt;/strong&gt;：机器人传感器数据（关节角度、加速度等连续向量）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;动作&lt;/strong&gt;：电机指令（连续向量）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;挑战&lt;/strong&gt;：真实世界训练成本高、风险大。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;解决方案&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;仿真训练迁移&lt;/strong&gt;：先在模拟器中训练策略，再部署到真实机器人。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;策略搜索方法&lt;/strong&gt;：PPO 优化连续动作策略，最大化前进速度、保持平衡等奖励。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id="案例-3语言助手language-assistants"&gt;&lt;strong&gt;案例 3：语言助手（Language Assistants）&lt;/strong&gt;
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;MDP 设置&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;状态&lt;/strong&gt;：已生成的文本序列（如“What is population of Berkeley?”）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;动作&lt;/strong&gt;：选择下一个词（词汇表大小约 10 万）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;奖励&lt;/strong&gt;：人工标注或奖励模型（如回答准确性、流畅性）。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;解决方案&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;策略梯度&lt;/strong&gt;：直接优化生成策略，调整词的概率分布。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;挑战&lt;/strong&gt;：动作空间极大（10 万词），需高效采样与梯度估计。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h4 id="3-后续方向与总结"&gt;&lt;strong&gt;3. 后续方向与总结&lt;/strong&gt;
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;课程后续内容&lt;/strong&gt;：转向 &lt;strong&gt;不确定性（Uncertainty）&lt;/strong&gt; 与 &lt;strong&gt;学习理论（Learning）&lt;/strong&gt;，涵盖贝叶斯网络、隐马尔可夫模型等。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;强化学习的核心挑战&lt;/strong&gt;：
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;探索与利用的平衡&lt;/strong&gt;：如何在复杂环境中高效探索（如基于好奇心的内在奖励）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;样本效率&lt;/strong&gt;：减少真实环境中的交互次数（如元学习、模仿学习）。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;安全与鲁棒性&lt;/strong&gt;：确保策略在真实场景中的可靠性（如安全约束强化学习）。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;</description></item><item><title>docker底层原理简介</title><link>https://mcig-ggg.github.io/p/docker%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E7%AE%80%E4%BB%8B/</link><pubDate>Wed, 08 Oct 2025 00:00:00 +0000</pubDate><guid>https://mcig-ggg.github.io/p/docker%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E7%AE%80%E4%BB%8B/</guid><description>&lt;img src="https://mcig-ggg.github.io/p/docker%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E7%AE%80%E4%BB%8B/Pasted-image-20251006220327.png" alt="Featured image of post docker底层原理简介" /&gt;&lt;h1 id="docker底层原理简介"&gt;docker底层原理简介
&lt;/h1&gt;&lt;p&gt;#conclusion&lt;/p&gt;
&lt;p&gt;docker 为了实现容器间的隔离，资源的限制，高效性，分别使用了 linux namespace, Cgroups(control groups), Union FS 这几个技术，下面一一介绍&lt;/p&gt;
&lt;h2 id="linux-namespace"&gt;Linux namespace
&lt;/h2&gt;&lt;p&gt;刚开始见到会联想到 cpp 的 namespace,了解之后发现二者在效果上差不多都是： 隔离某些东西（linux namespace：pid 对应的进程，一个pid在不同的namespace对应不同进程， cpp namespace： 一个函数名在不同namespace对应不同函数）&lt;/p&gt;
&lt;h3 id="具体原理"&gt;具体原理
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;以前：操作系统里 pid 和进程一一对应，不可能有进程的pid相同&lt;/li&gt;
&lt;li&gt;现在：操作系统增加一个 &lt;em&gt;osid&lt;/em&gt; ，现在一个进程的识别要同时匹配 &lt;em&gt;osid&lt;/em&gt;， &lt;em&gt;pid&lt;/em&gt;，一个进程树对应一个&lt;em&gt;osid&lt;/em&gt;， 大概如下&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src="https://mcig-ggg.github.io/p/docker%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E7%AE%80%E4%BB%8B/Pasted-image-20251006220327.png"
width="1194"
height="505"
srcset="https://mcig-ggg.github.io/p/docker%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E7%AE%80%E4%BB%8B/Pasted-image-20251006220327_hu_5e39c6c38c685c57.png 480w, https://mcig-ggg.github.io/p/docker%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E7%AE%80%E4%BB%8B/Pasted-image-20251006220327_hu_9673afefa1094b21.png 1024w"
loading="lazy"
alt="Pasted image 20251006220327.png"
class="gallery-image"
data-flex-grow="236"
data-flex-basis="567px"
&gt;&lt;/p&gt;
&lt;div class="admonition admonition-note"&gt;
&lt;div class="admonition-title"&gt;
Note
&lt;/div&gt;
&lt;div class="admonition-content"&gt;
一个进程树对应一个&lt;em&gt;osid&lt;/em&gt;
现在进程树隔离了,这样我们就可以创建两个不干扰的容器了
&lt;/div&gt;
&lt;/div&gt;
&lt;style&gt;
.admonition {
border-left: 4px solid #42a5f5;
background: #f5f7fa;
margin: 1.5em 0;
padding: 1em 1.2em;
border-radius: 6px;
}
.admonition-note { border-color: #42a5f5; }
.admonition-warning { border-color: #ffa726; background: #fff8e1; }
.admonition-info { border-color: #26c6da; background: #e0f7fa; }
.admonition-title {
font-weight: bold;
margin-bottom: 0.5em;
}
.admonition-content {
color: #000000;
font-size: 1em;
}
@media (prefers-color-scheme: dark) {
.admonition {
background: #2c3e50;
color: #ecf0f1;
}
.admonition-note { border-color: #42a5f5; }
.admonition-warning { border-color: #ffa726; background: #5d4037; }
.admonition-info { border-color: #26c6da; background: #004d40; }
.admonition-title {
color: #ecf0f1;
}
.admonition-content {
color: #ecf0f1;
}
}
&lt;/style&gt;
&lt;h2 id="cgroups"&gt;Cgroups
&lt;/h2&gt;&lt;p&gt;前面可以让两个容器隔离了，现在还需要控制容器的 cpu 占用，内存占用等等，不能让容器随意使用系统资源。Cgroups 通过层级结构（hierarchy）和控制组（group）来管理资源。每个层级可以包含多个控制组，每个控制组可以包含多个进程。每个控制组可以独立地配置资源限制和优先级。&lt;/p&gt;
&lt;p&gt;Cgroups的数据结构存储在 &lt;code&gt;/sys/fs/group&lt;/code&gt; 下，大概有这些目录结构：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt; 1
&lt;/span&gt;&lt;span class="lnt"&gt; 2
&lt;/span&gt;&lt;span class="lnt"&gt; 3
&lt;/span&gt;&lt;span class="lnt"&gt; 4
&lt;/span&gt;&lt;span class="lnt"&gt; 5
&lt;/span&gt;&lt;span class="lnt"&gt; 6
&lt;/span&gt;&lt;span class="lnt"&gt; 7
&lt;/span&gt;&lt;span class="lnt"&gt; 8
&lt;/span&gt;&lt;span class="lnt"&gt; 9
&lt;/span&gt;&lt;span class="lnt"&gt;10
&lt;/span&gt;&lt;span class="lnt"&gt;11
&lt;/span&gt;&lt;span class="lnt"&gt;12
&lt;/span&gt;&lt;span class="lnt"&gt;13
&lt;/span&gt;&lt;span class="lnt"&gt;14
&lt;/span&gt;&lt;span class="lnt"&gt;15
&lt;/span&gt;&lt;span class="lnt"&gt;16
&lt;/span&gt;&lt;span class="lnt"&gt;17
&lt;/span&gt;&lt;span class="lnt"&gt;18
&lt;/span&gt;&lt;span class="lnt"&gt;19
&lt;/span&gt;&lt;span class="lnt"&gt;20
&lt;/span&gt;&lt;span class="lnt"&gt;21
&lt;/span&gt;&lt;span class="lnt"&gt;22
&lt;/span&gt;&lt;span class="lnt"&gt;23
&lt;/span&gt;&lt;span class="lnt"&gt;24
&lt;/span&gt;&lt;span class="lnt"&gt;25
&lt;/span&gt;&lt;span class="lnt"&gt;26
&lt;/span&gt;&lt;span class="lnt"&gt;27
&lt;/span&gt;&lt;span class="lnt"&gt;28
&lt;/span&gt;&lt;span class="lnt"&gt;29
&lt;/span&gt;&lt;span class="lnt"&gt;30
&lt;/span&gt;&lt;span class="lnt"&gt;31
&lt;/span&gt;&lt;span class="lnt"&gt;32
&lt;/span&gt;&lt;span class="lnt"&gt;33
&lt;/span&gt;&lt;span class="lnt"&gt;34
&lt;/span&gt;&lt;span class="lnt"&gt;35
&lt;/span&gt;&lt;span class="lnt"&gt;36
&lt;/span&gt;&lt;span class="lnt"&gt;37
&lt;/span&gt;&lt;span class="lnt"&gt;38
&lt;/span&gt;&lt;span class="lnt"&gt;39
&lt;/span&gt;&lt;span class="lnt"&gt;40
&lt;/span&gt;&lt;span class="lnt"&gt;41
&lt;/span&gt;&lt;span class="lnt"&gt;42
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;/sys/fs/cgroup/
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;├── cgroup.controllers
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;├── cgroup.max.depth
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;├── cgroup.max.descendants
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;├── cgroup.pressure
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;├── cgroup.procs
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;├── cgroup.stat
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;├── cgroup.subtree_control
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;├── cgroup.threads
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;├── cpu.pressure
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;├── cpuset.cpus.effective
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;├── cpuset.cpus.isolated
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;├── cpuset.mems.effective
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;├── cpu.stat
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;├── cpu.stat.local
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;├── dev-hugepages.mount
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;├── dev-mqueue.mount
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;├── dmem.capacity
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;├── dmem.current
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;├── init.scope
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;├── io.cost.model
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;├── io.cost.qos
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;├── io.pressure
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;├── io.prio.class
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;├── io.stat
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;├── irq.pressure
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;├── machine.slice
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;├── memory.numa_stat
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;├── memory.pressure
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;├── memory.reclaim
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;├── memory.stat
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;├── memory.zswap.writeback
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;├── misc.capacity
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;├── misc.current
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;├── misc.peak
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;├── proc-sys-fs-binfmt_misc.mount
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;├── sys-fs-fuse-connections.mount
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;├── sys-kernel-config.mount
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;├── sys-kernel-debug.mount
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;├── sys-kernel-tracing.mount
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;├── system.slice
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;└── user.slice
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;然后在 &lt;code&gt;/proc/*/cgroup&lt;/code&gt; 下会有各个进程的所属的控制组信息，每一行表示一个进程在某个层级中的控制组路径。格式如下：
&lt;code&gt;&amp;lt;层级号&amp;gt;:&amp;lt;子系统&amp;gt;:&amp;lt;控制组路径&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;层级号：表示控制组所属的层级编号。&lt;/li&gt;
&lt;li&gt;子系统：表示控制组管理的资源类型，例如 cpu、memory、blkio 等。&lt;/li&gt;
&lt;li&gt;控制组路径：表示进程所属的控制组路径，从根控制组开始。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;举个例子：&lt;/p&gt;
&lt;p&gt;0::/user.slice/user-1000.slice/ user@1000.service /app.slice/ app-Hyprland-dunst@3883b287.service ：表示进程属于用户 1000 的 Hyprland-dunst 服务。路径中的每一级都表示一个控制组的层级结构。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;user.slice：表示用户级别的控制组。&lt;/li&gt;
&lt;li&gt;user-1000.slice：表示用户 1000 的控制组。&lt;/li&gt;
&lt;li&gt;user@1000.service：表示用户 1000 的服务。&lt;/li&gt;
&lt;li&gt;app.slice：表示应用程序级别的控制组。&lt;/li&gt;
&lt;li&gt;app-Hyprland-dunst@3883b287.service：表示 Hyprland-dunst 服务的具体实例。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;还有：
0::/system.slice/systemd-userdbd.service&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;system.slice：表示这是一个系统级别的控制组。&lt;/li&gt;
&lt;li&gt;systemd-userdbd.service：表示这是 systemd-userdbd 服务。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="union-fs"&gt;Union FS
&lt;/h2&gt;&lt;p&gt;UnionFS是一种联合文件系统技术，它允许&lt;em&gt;多个文件系统挂载到同一目录下&lt;/em&gt;，合并成一个整体视图。它采用&lt;em&gt;分层结构，底层为只读层，顶层为可写层，数据修改只发生在顶层&lt;/em&gt;，利用“&lt;em&gt;写时复制&lt;/em&gt;”机制确保底层数据不受影响。UnionFS在容器技术中广泛应用，如Docker使用类似的OverlayFS管理镜像分层。它优势在于高效存储、快速更新和简化管理，但也存在文件操作复杂性和潜在一致性问题。&lt;/p&gt;
&lt;div class="mermaid" id="mermaid-1"&gt;
graph TD
A["Merged View: file1.txt (modified)"] --&gt; B["Writable Work Layer"]
A --&gt; C["Read-Only Lower Layer"]
B --&gt; D["file1.txt (modified)"]
C --&gt; E["file1.txt (original)"]
style A fill:#ffe6ff,stroke:#333
style B fill:#ffe6e6,stroke:#ff6666
style C fill:#e6e6ff,stroke:#6666ff
style D fill:#ffe6e6,stroke:#ff6666
style E fill:#e6e6ff,stroke:#6666ff
&lt;/div&gt;
&lt;script&gt;
document.addEventListener('DOMContentLoaded', function() {
mermaid.initialize({
startOnLoad: true,
theme: 'default',
securityLevel: 'loose',
flowchart: {
htmlLabels: true,
curve: 'basis'
}
});
mermaid.init(undefined, "#mermaid-1");
});
&lt;/script&gt;</description></item><item><title>hugo_publish</title><link>https://mcig-ggg.github.io/p/hugo_publish/</link><pubDate>Wed, 08 Oct 2025 00:00:00 +0000</pubDate><guid>https://mcig-ggg.github.io/p/hugo_publish/</guid><description>&lt;p&gt;&lt;strong&gt;1. 项目结构&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt; 1
&lt;/span&gt;&lt;span class="lnt"&gt; 2
&lt;/span&gt;&lt;span class="lnt"&gt; 3
&lt;/span&gt;&lt;span class="lnt"&gt; 4
&lt;/span&gt;&lt;span class="lnt"&gt; 5
&lt;/span&gt;&lt;span class="lnt"&gt; 6
&lt;/span&gt;&lt;span class="lnt"&gt; 7
&lt;/span&gt;&lt;span class="lnt"&gt; 8
&lt;/span&gt;&lt;span class="lnt"&gt; 9
&lt;/span&gt;&lt;span class="lnt"&gt;10
&lt;/span&gt;&lt;span class="lnt"&gt;11
&lt;/span&gt;&lt;span class="lnt"&gt;12
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;.
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;├── hugo_publish_blog.py # 主程序
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;├── config.yaml # 配置文件
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;├── config.yaml.example # 配置文件模板
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;├── requirements.txt # 依赖清单
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;└── scripts/ # 功能模块
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; ├── __init__.py
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; ├── blog_processor.py # 博客处理核心类
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; ├── front_matter.py # 文章前置数据处理
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; ├── config_manager.py # 配置管理
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; ├── image_processor.py # 图片处理
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; └── obsidian_image_handler.py # Obsidian图片转换
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;strong&gt;2. 核心功能和主要类&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;BlogProcessor&lt;/code&gt; 类 (blog_processor.py)：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;create_new_post()&lt;/code&gt; - 创建新的Hugo文章&lt;/li&gt;
&lt;li&gt;&lt;code&gt;process_markdown_files()&lt;/code&gt; - 处理Markdown文件转换&lt;/li&gt;
&lt;li&gt;&lt;code&gt;list_published_markdowns()&lt;/code&gt; - 列出已发布的文章&lt;/li&gt;
&lt;li&gt;&lt;code&gt;set_publish_false()&lt;/code&gt; - 设置文章为未发布状态&lt;/li&gt;
&lt;li&gt;&lt;code&gt;unpublish_article()&lt;/code&gt; - 取消发布文章&lt;/li&gt;
&lt;li&gt;&lt;code&gt;preview_site()&lt;/code&gt; - 预览博客站点&lt;/li&gt;
&lt;li&gt;&lt;code&gt;deploy_to_repos()&lt;/code&gt; - 部署到GitHub仓库&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;FrontMatter&lt;/code&gt; 类 (front_matter.py)：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;管理文章前置数据&lt;/li&gt;
&lt;li&gt;处理标签和分类&lt;/li&gt;
&lt;li&gt;提供标准化的数据访问接口&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;支持模块：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;config_manager.py: 配置管理&lt;/li&gt;
&lt;li&gt;obsidian_image_handler.py: 图片处理&lt;/li&gt;
&lt;li&gt;image_processor.py: 图片处理工具&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;3. 程序流程图&lt;/strong&gt;&lt;/p&gt;
&lt;div class="mermaid" id="mermaid-0"&gt;
graph TD
A[开始] --&gt; B{检查命令行参数}
B --&gt;|--preview| C[预览模式]
B --&gt;|--unpublish| D[取消发布]
B --&gt;|--republish| E[重新发布]
B --&gt;|默认发布| F[发布流程]
C --&gt; C1[启动Hugo服务器]
C1 --&gt; C2[打开预览页面]
D --&gt; D1[列出已发布文章]
D1 --&gt; D2[选择要取消的文章]
D2 --&gt; D3[更新文章状态]
D3 --&gt; D4[删除Hugo文件]
D4 --&gt; G[部署更新]
E --&gt; E1[找出已发布文章]
E1 --&gt; E2[取消所有发布]
E2 --&gt; E3[重新发布文章]
E3 --&gt; G
F --&gt; F1[处理Markdown文件]
F1 --&gt; F2[处理图片资源]
F2 --&gt; F3[创建Hugo文章]
F3 --&gt; G
G --&gt; G1[更新源码仓库]
G1 --&gt; G2[构建Hugo站点]
G2 --&gt; G3[部署到GitHub Pages]
G3 --&gt; H[结束]
&lt;/div&gt;
&lt;script&gt;
document.addEventListener('DOMContentLoaded', function() {
mermaid.initialize({
startOnLoad: true,
theme: 'default',
securityLevel: 'loose',
flowchart: {
htmlLabels: true,
curve: 'basis'
}
});
mermaid.init(undefined, "#mermaid-0");
});
&lt;/script&gt;
&lt;p&gt;&lt;strong&gt;4. 文章处理流程&lt;/strong&gt;&lt;/p&gt;
&lt;div class="mermaid" id="mermaid-1"&gt;
sequenceDiagram
participant U as 用户
participant BP as BlogProcessor
participant FM as FrontMatter
participant IH as ImageHandler
participant H as Hugo
participant G as Git仓库
U-&gt;&gt;BP: 执行发布命令
BP-&gt;&gt;FM: 提取YAML和内容
FM-&gt;&gt;FM: 处理前置数据
BP-&gt;&gt;IH: 处理图片
IH-&gt;&gt;IH: 复制并重命名图片
BP-&gt;&gt;BP: 创建Hugo文章
BP-&gt;&gt;H: 构建站点
BP-&gt;&gt;G: 推送源码
BP-&gt;&gt;G: 部署页面
G--&gt;&gt;U: 返回部署结果
&lt;/div&gt;
&lt;script&gt;
document.addEventListener('DOMContentLoaded', function() {
mermaid.initialize({
startOnLoad: true,
theme: 'default',
securityLevel: 'loose',
flowchart: {
htmlLabels: true,
curve: 'basis'
}
});
mermaid.init(undefined, "#mermaid-1");
});
&lt;/script&gt;
&lt;p&gt;&lt;strong&gt;5. 类关系图&lt;/strong&gt;&lt;/p&gt;
&lt;div class="mermaid" id="mermaid-2"&gt;
classDiagram
class BlogProcessor {
+source_dir: Path
+hugo_dir: Path
+create_new_post()
+process_markdown_files()
+list_published_markdowns()
+set_publish_false()
+unpublish_article()
+preview_site()
+deploy_to_repos()
}
class FrontMatter {
+data: dict
+title: str
+date: str
+tags: list
+categories: list
+draft: bool
+publish: bool
+to_dict()
+update()
}
class ImageHandler {
+process_obsidian_images()
+copy_image()
+update_links()
}
BlogProcessor --&gt; FrontMatter : 使用
BlogProcessor --&gt; ImageHandler : 使用
&lt;/div&gt;
&lt;script&gt;
document.addEventListener('DOMContentLoaded', function() {
mermaid.initialize({
startOnLoad: true,
theme: 'default',
securityLevel: 'loose',
flowchart: {
htmlLabels: true,
curve: 'basis'
}
});
mermaid.init(undefined, "#mermaid-2");
});
&lt;/script&gt;
&lt;p&gt;&lt;strong&gt;6. 部署流程&lt;/strong&gt;&lt;/p&gt;
&lt;div class="mermaid" id="mermaid-3"&gt;
graph TD
A[开始部署] --&gt; B[更新源码仓库]
B --&gt; C[构建Hugo站点]
C --&gt; D[部署到GitHub Pages]
D --&gt; E[结束]
B --&gt; B1[Git操作]
B1 --&gt; B2[提交更改]
B2 --&gt; B3[推送到源码仓库]
C --&gt; C1[生成静态文件]
C1 --&gt; C2[优化资源]
D --&gt; D1[初始化Pages仓库]
D1 --&gt; D2[提交更改]
D2 --&gt; D3[强制推送到Pages]
&lt;/div&gt;
&lt;script&gt;
document.addEventListener('DOMContentLoaded', function() {
mermaid.initialize({
startOnLoad: true,
theme: 'default',
securityLevel: 'loose',
flowchart: {
htmlLabels: true,
curve: 'basis'
}
});
mermaid.init(undefined, "#mermaid-3");
});
&lt;/script&gt;
&lt;p&gt;&lt;strong&gt;7. 配置管理流程&lt;/strong&gt;&lt;/p&gt;
&lt;div class="mermaid" id="mermaid-4"&gt;
graph LR
A[配置文件] --&gt;|读取| B[Config类]
B --&gt;|解析| C[配置字典]
C --&gt;|获取配置| D[程序模块]
D --&gt;|更新配置| B
B --&gt;|保存| A
&lt;/div&gt;
&lt;script&gt;
document.addEventListener('DOMContentLoaded', function() {
mermaid.initialize({
startOnLoad: true,
theme: 'default',
securityLevel: 'loose',
flowchart: {
htmlLabels: true,
curve: 'basis'
}
});
mermaid.init(undefined, "#mermaid-4");
});
&lt;/script&gt;
&lt;p&gt;&lt;strong&gt;8. 主要功能说明&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;文章处理：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;支持从Obsidian格式转换到Hugo格式&lt;/li&gt;
&lt;li&gt;自动处理图片资源&lt;/li&gt;
&lt;li&gt;维护标签和分类的映射关系&lt;/li&gt;
&lt;li&gt;支持草稿模式&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;部署功能：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;自动更新源码仓库&lt;/li&gt;
&lt;li&gt;构建Hugo静态站点&lt;/li&gt;
&lt;li&gt;部署到GitHub Pages&lt;/li&gt;
&lt;li&gt;支持预览模式&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;图片处理：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;自动复制和重命名图片&lt;/li&gt;
&lt;li&gt;更新文章中的图片链接&lt;/li&gt;
&lt;li&gt;支持多种图片格式&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;配置管理：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;灵活的配置系统&lt;/li&gt;
&lt;li&gt;支持多环境配置&lt;/li&gt;
&lt;li&gt;配置验证和错误处理&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;</description></item><item><title>obsidian折腾总结</title><link>https://mcig-ggg.github.io/p/obsidian%E6%8A%98%E8%85%BE%E6%80%BB%E7%BB%93/</link><pubDate>Wed, 08 Oct 2025 00:00:00 +0000</pubDate><guid>https://mcig-ggg.github.io/p/obsidian%E6%8A%98%E8%85%BE%E6%80%BB%E7%BB%93/</guid><description>&lt;img src="https://mcig-ggg.github.io/p/obsidian%E6%8A%98%E8%85%BE%E6%80%BB%E7%BB%93/Pasted-image-20250422233237.png" alt="Featured image of post obsidian折腾总结" /&gt;&lt;ul&gt;
&lt;li&gt;少折腾&lt;/li&gt;
&lt;li&gt;记录下现在的成果
&lt;ul&gt;
&lt;li&gt;主页&lt;/li&gt;
&lt;li&gt;时间线
&lt;ul&gt;
&lt;li&gt;添加时间节点：在 Home 里把时间线的 events 加一项&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;习惯记录
&lt;ul&gt;
&lt;li&gt;更改标题：更改 &lt;code&gt;dv.span(&amp;quot;** 📖 阅读 **&amp;quot;) &lt;/code&gt; 括号中的内容&lt;/li&gt;
&lt;li&gt;更改习惯分类：更改 &lt;code&gt;const habitIntensity = getHabitInPage(page, 'reading')&lt;/code&gt; 中‘reading’为对应的习惯分类，如 &lt;code&gt;outputing&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;更改颜色：更改 &lt;code&gt;color: &amp;quot;orange&amp;quot;&lt;/code&gt; 中为 calendarData 中对应颜色&lt;/li&gt;
&lt;li&gt;记录每天的习惯：如&lt;code&gt;- [x] [[obsidian折腾总结]] #habit outputing:: 1 ✅ 2025-04-22&lt;/code&gt;
&lt;ul&gt;
&lt;li&gt;注意格式：
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;#habit&lt;/code&gt; 必须在 &lt;code&gt;outputing&lt;/code&gt; 等前面&lt;/li&gt;
&lt;li&gt;&lt;code&gt;outputing&lt;/code&gt; 后面要紧跟双冒号 &lt;code&gt;::&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;冒号后面接的是颜色深度，有范围限制&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;contribution 图&lt;/li&gt;
&lt;li&gt;tasks
&lt;ul&gt;
&lt;li&gt;tasks canlendar wraper
&lt;img src="https://mcig-ggg.github.io/p/obsidian%E6%8A%98%E8%85%BE%E6%80%BB%E7%BB%93/Pasted-image-20250422233237.png"
width="2510"
height="1676"
srcset="https://mcig-ggg.github.io/p/obsidian%E6%8A%98%E8%85%BE%E6%80%BB%E7%BB%93/Pasted-image-20250422233237_hu_80cb5fd53543c147.png 480w, https://mcig-ggg.github.io/p/obsidian%E6%8A%98%E8%85%BE%E6%80%BB%E7%BB%93/Pasted-image-20250422233237_hu_566502363b761ba.png 1024w"
loading="lazy"
alt="Pasted image 20250422233237.png"
class="gallery-image"
data-flex-grow="149"
data-flex-basis="359px"
&gt;
&lt;img src="https://mcig-ggg.github.io/p/obsidian%E6%8A%98%E8%85%BE%E6%80%BB%E7%BB%93/Pasted-image-20250422233209.png"
width="2452"
height="1678"
srcset="https://mcig-ggg.github.io/p/obsidian%E6%8A%98%E8%85%BE%E6%80%BB%E7%BB%93/Pasted-image-20250422233209_hu_9b13379e66f72074.png 480w, https://mcig-ggg.github.io/p/obsidian%E6%8A%98%E8%85%BE%E6%80%BB%E7%BB%93/Pasted-image-20250422233209_hu_5b6133dbfdeb7e3f.png 1024w"
loading="lazy"
alt="Pasted image 20250422233209.png"
class="gallery-image"
data-flex-grow="146"
data-flex-basis="350px"
&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>大一下学期总结</title><link>https://mcig-ggg.github.io/p/%E5%A4%A7%E4%B8%80%E4%B8%8B%E5%AD%A6%E6%9C%9F%E6%80%BB%E7%BB%93/</link><pubDate>Wed, 08 Oct 2025 00:00:00 +0000</pubDate><guid>https://mcig-ggg.github.io/p/%E5%A4%A7%E4%B8%80%E4%B8%8B%E5%AD%A6%E6%9C%9F%E6%80%BB%E7%BB%93/</guid><description>&lt;img src="https://mcig-ggg.github.io/p/%E5%A4%A7%E4%B8%80%E4%B8%8B%E5%AD%A6%E6%9C%9F%E6%80%BB%E7%BB%93/73179512905131d196dea717dd735482_720.jpg" alt="Featured image of post 大一下学期总结" /&gt;&lt;h1 id="大一下学期总结"&gt;大一下学期总结
&lt;/h1&gt;&lt;p&gt;这学期的心态变了很多,我也不想在这篇文章里写太多技术相关的东西.主要就是记录下我目前的一些想法&lt;/p&gt;
&lt;h2 id="学习"&gt;学习
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;一开学想这学期好好学OS, 然后刚开学在看rcore,想这学期把rcore搞完,但是后面又没看了,感觉没啥意义. 后面看了几集jyyos,也没看了&lt;/li&gt;
&lt;li&gt;后面就被忽悠去搞大创了,一个月边写申报书边看论文,了解了一点SLAM相关, 不过最后申报书没过,幸好我也不太想走这方面.&lt;/li&gt;
&lt;li&gt;再后面看了点CS188, 了解了一点RL相关,后面有讲AI其他方面的概述,不知道暑假还继不继续看&lt;/li&gt;
&lt;li&gt;这学期课内事情太多了,有点应付不过来&lt;/li&gt;
&lt;li&gt;暑假打算看看计网,6.824 .&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="一些想法"&gt;一些想法
&lt;/h2&gt;&lt;p&gt;我感觉我在人际交往还有个人还有别的方面有了很多变化&lt;/p&gt;
&lt;p&gt;遇到了一些人,后面进了我们学校的&amp;quot;地下开源协会&amp;quot;,全是大佬,有大二进wxg前端实习的,有同时是archlinuxcn,nix,deepin维护者的大佬.感觉稍微了解了一点开源这个世界&lt;/p&gt;
&lt;p&gt;打了学校的排球阳光杯,虽然没上场.看大四老登在上面拼命打,拿下最后一球,赢了季军赛之后,坐在地板上哭,挺感慨的.想起了高三在我们的小高中的运动会,最后一跳三级跳拿下第一的事情(虽然厉害的人都去报跳远了).
时间总是这样流过.&lt;/p&gt;
&lt;p&gt;这学期看了星际牛仔,漂流少年,冰海战记,怪奇物语.(阿谢拉特很帅)
&lt;img src="https://mcig-ggg.github.io/p/%E5%A4%A7%E4%B8%80%E4%B8%8B%E5%AD%A6%E6%9C%9F%E6%80%BB%E7%BB%93/73179512905131d196dea717dd735482_720.jpg"
width="1280"
height="960"
srcset="https://mcig-ggg.github.io/p/%E5%A4%A7%E4%B8%80%E4%B8%8B%E5%AD%A6%E6%9C%9F%E6%80%BB%E7%BB%93/73179512905131d196dea717dd735482_720_hu_f763e75ce554d705.jpg 480w, https://mcig-ggg.github.io/p/%E5%A4%A7%E4%B8%80%E4%B8%8B%E5%AD%A6%E6%9C%9F%E6%80%BB%E7%BB%93/73179512905131d196dea717dd735482_720_hu_e2f02e3d58520447.jpg 1024w"
loading="lazy"
alt="73179512905131d196dea717dd735482_720.jpg"
class="gallery-image"
data-flex-grow="133"
data-flex-basis="320px"
&gt;&lt;/p&gt;
&lt;p&gt;某人能让我从别人的角度,另外的角度看自己看世界,我很感谢&lt;/p&gt;
&lt;p&gt;爱到底是什么呢,该怎么去爱人呢,我很讨厌教育体系内缺少这方面的教育,明明是人生中重要的东西,但是大部分人却对此不甚了解,只能自己慢慢摸索.人生不应该只有面前的绩点,未来的保研,追求的工作,拿到的工资.人生中很多东西都很重要,所以请不要忘记自己心里重要的东西,自己身边重要的东西.&lt;/p&gt;
&lt;p&gt;这学期接触了一些学校里的人之后,愈发感觉大学内部的信息流通实在是太闭塞,比如说我们学校里的开源协会,我原本以为学校里没有什么技术氛围,没想到还是有的(不过里面基本都是老登)&lt;/p&gt;
&lt;p&gt;&lt;img src="https://mcig-ggg.github.io/p/%E5%A4%A7%E4%B8%80%E4%B8%8B%E5%AD%A6%E6%9C%9F%E6%80%BB%E7%BB%93/2919d67e78439bda89f3cfc66d21abfb_720.jpg"
width="1080"
height="1920"
srcset="https://mcig-ggg.github.io/p/%E5%A4%A7%E4%B8%80%E4%B8%8B%E5%AD%A6%E6%9C%9F%E6%80%BB%E7%BB%93/2919d67e78439bda89f3cfc66d21abfb_720_hu_9d8749091dd68a06.jpg 480w, https://mcig-ggg.github.io/p/%E5%A4%A7%E4%B8%80%E4%B8%8B%E5%AD%A6%E6%9C%9F%E6%80%BB%E7%BB%93/2919d67e78439bda89f3cfc66d21abfb_720_hu_d40f545821f0af57.jpg 1024w"
loading="lazy"
alt="2919d67e78439bda89f3cfc66d21abfb_720.jpg"
class="gallery-image"
data-flex-grow="56"
data-flex-basis="135px"
&gt;
每个人都有一个不大不小的梦&lt;/p&gt;
&lt;p&gt;&lt;img src="https://mcig-ggg.github.io/p/%E5%A4%A7%E4%B8%80%E4%B8%8B%E5%AD%A6%E6%9C%9F%E6%80%BB%E7%BB%93/fb4370fea6cb9bdbc22dd7d77d9bad27-1.jpg"
width="2664"
height="1200"
srcset="https://mcig-ggg.github.io/p/%E5%A4%A7%E4%B8%80%E4%B8%8B%E5%AD%A6%E6%9C%9F%E6%80%BB%E7%BB%93/fb4370fea6cb9bdbc22dd7d77d9bad27-1_hu_29d84c145c6cf90d.jpg 480w, https://mcig-ggg.github.io/p/%E5%A4%A7%E4%B8%80%E4%B8%8B%E5%AD%A6%E6%9C%9F%E6%80%BB%E7%BB%93/fb4370fea6cb9bdbc22dd7d77d9bad27-1_hu_ab24c02765f85f23.jpg 1024w"
loading="lazy"
alt="fb4370fea6cb9bdbc22dd7d77d9bad27 1.jpg"
class="gallery-image"
data-flex-grow="222"
data-flex-basis="532px"
&gt;
这学期后面开始偶尔喝点酒,以前挺抗拒喝酒的,不过现在喝的也基本只是鸡尾酒.前段时间开源协会有人说要搞聚会,虽然最后也就几个人,吃晚饭去酒吧聊天.第一次去酒吧,感觉遇到的人经历的事听到的东西对我的世界观冲击有点大&lt;/p&gt;
&lt;p&gt;人生还有很长啊.&lt;/p&gt;</description></item><item><title>避免无意义的重复：记一次obsidian折腾</title><link>https://mcig-ggg.github.io/p/%E9%81%BF%E5%85%8D%E6%97%A0%E6%84%8F%E4%B9%89%E7%9A%84%E9%87%8D%E5%A4%8D%E8%AE%B0%E4%B8%80%E6%AC%A1obsidian%E6%8A%98%E8%85%BE/</link><pubDate>Sun, 05 Oct 2025 00:00:00 +0000</pubDate><guid>https://mcig-ggg.github.io/p/%E9%81%BF%E5%85%8D%E6%97%A0%E6%84%8F%E4%B9%89%E7%9A%84%E9%87%8D%E5%A4%8D%E8%AE%B0%E4%B8%80%E6%AC%A1obsidian%E6%8A%98%E8%85%BE/</guid><description>&lt;h2 id="起因"&gt;起因
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;事情的起因是复制 ai 回答的内容里的 LaTeX 公式，它所采用的是 &lt;code&gt;\( \)&lt;/code&gt; (行内公式) 和 &lt;code&gt;\[ \]&lt;/code&gt; （行间公式），而 obsidian 默认支持的是 &lt;code&gt;$ $&lt;/code&gt; 和 &lt;code&gt;$$ $$&lt;/code&gt; ，然后复制过来的话要对内容进行修改才能成功渲染LaTeX 公式&lt;/li&gt;
&lt;li&gt;手动修改无疑是无意义的重复，但是我一直懒得找解决方法，直到今天实在受不了了。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="经历"&gt;经历
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;最开始的想法：看看能不能更改 obsidian 支持的 latex 格式，但是我没找到（也许有，可能只是我没找到）&lt;/li&gt;
&lt;li&gt;后来的想法：因为对这种字符串操作，第一反应就是 vim, 然后我记得 obsidian 是有 vim 模式的，于是我开了 obsidian 的 vim 模式，尝试手动用 vim 命令更改粘贴后的内容,,,
&lt;ul&gt;
&lt;li&gt;但是好像 obsidian 的 vim 支持不是很好（？）好像不支持捕获组（也有可能是我命令输的有问题）&lt;/li&gt;
&lt;li&gt;于是只能换方法&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;后来把我的需求描述清楚，去问 qwen, 说可以用 obsidian 的 templater 插件，并且给了相应的代码，
&lt;ul&gt;
&lt;li&gt;然后我按照他给的代码，去做，发现不行。&lt;/li&gt;
&lt;li&gt;然后根据我之前的经历，可能是模型不够强&lt;/li&gt;
&lt;li&gt;于是我去用 cursor&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;cursor 给了代码，能使用
&lt;ul&gt;
&lt;li&gt;不过一开始不符合我的需求&lt;/li&gt;
&lt;li&gt;然后经过不断的调整，描述自己的需求，最终成功实现&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="感想"&gt;感想
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;第一个就是，就像 jyy 说的，要是重复做什么事情三次以上，就该想想有没有现成的自动化工具，如果没有，就看看自己能不能写出来，这是学计算机的人很需要的一个技能&lt;/li&gt;
&lt;li&gt;然后就是 ai 的使用吧，比较难度高的任务还是得用好点的 ai, 不然错误太多了。&lt;/li&gt;
&lt;/ul&gt;</description></item><item><title>如何使用Hugo创建并部署个人博客</title><link>https://mcig-ggg.github.io/p/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8hugo%E5%88%9B%E5%BB%BA%E5%B9%B6%E9%83%A8%E7%BD%B2%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/</link><pubDate>Sun, 01 Jun 2025 00:00:00 +0000</pubDate><guid>https://mcig-ggg.github.io/p/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8hugo%E5%88%9B%E5%BB%BA%E5%B9%B6%E9%83%A8%E7%BD%B2%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/</guid><description>&lt;img src="https://mcig-ggg.github.io/p/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8hugo%E5%88%9B%E5%BB%BA%E5%B9%B6%E9%83%A8%E7%BD%B2%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/screenshot.png" alt="Featured image of post 如何使用Hugo创建并部署个人博客" /&gt;&lt;h2 id="介绍"&gt;介绍
&lt;/h2&gt;&lt;p&gt;Hugo是一个用Go语言编写的静态网站生成器，以其快速、灵活和易用性而闻名。本文将介绍如何使用Hugo创建个人博客并将其部署到GitHub Pages上。&lt;/p&gt;
&lt;h2 id="准备工作"&gt;准备工作
&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;安装Hugo&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;span class="lnt"&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# Ubuntu/Debian&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo apt-get install hugo
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# macOS&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;brew install hugo
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ol start="2"&gt;
&lt;li&gt;安装Git&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# Ubuntu/Debian&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;sudo apt-get install git
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id="创建新的hugo站点"&gt;创建新的Hugo站点
&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;创建新站点&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;hugo new site my-blog
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; my-blog
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ol start="2"&gt;
&lt;li&gt;添加主题（以Stack主题为例）&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git init
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git submodule add https://github.com/CaiJimmy/hugo-theme-stack.git themes/hugo-theme-stack
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ol start="3"&gt;
&lt;li&gt;配置站点
创建或编辑&lt;code&gt;hugo.yaml&lt;/code&gt;文件，添加基本配置：&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-yaml" data-lang="yaml"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nt"&gt;baseURL&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;https://yourusername.github.io/&amp;#39;&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;&lt;/span&gt;&lt;span class="nt"&gt;languageCode&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;zh-cn&amp;#39;&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;&lt;/span&gt;&lt;span class="nt"&gt;title&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;我的博客&amp;#39;&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;&lt;/span&gt;&lt;span class="nt"&gt;theme&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;hugo-theme-stack&amp;#39;&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id="创建新文章"&gt;创建新文章
&lt;/h2&gt;&lt;p&gt;使用以下命令创建新文章：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;hugo new post/my-first-post/index.md
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id="设置博客封面图片"&gt;设置博客封面图片
&lt;/h2&gt;&lt;p&gt;Hugo支持为每篇文章设置封面图片，有以下几种方式：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;在文章前言（Front Matter）中设置&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;span class="lnt"&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-yaml" data-lang="yaml"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nn"&gt;---&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;&lt;/span&gt;&lt;span class="nt"&gt;title&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;文章标题&amp;#34;&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;&lt;/span&gt;&lt;span class="nt"&gt;date&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="ld"&gt;2025-06-01&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;&lt;/span&gt;&lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;cover.jpg &lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c"&gt;# 图片放在文章同级目录下&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;&lt;/span&gt;&lt;span class="nn"&gt;---&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ol start="2"&gt;
&lt;li&gt;使用外部图片链接&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;span class="lnt"&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-yaml" data-lang="yaml"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nn"&gt;---&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;&lt;/span&gt;&lt;span class="nt"&gt;title&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;文章标题&amp;#34;&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;&lt;/span&gt;&lt;span class="nt"&gt;date&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="ld"&gt;2025-06-01&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;&lt;/span&gt;&lt;span class="nt"&gt;image&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;https://example.com/image.jpg&amp;#34;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c"&gt;# 使用完整的URL&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;&lt;/span&gt;&lt;span class="nn"&gt;---&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ol start="3"&gt;
&lt;li&gt;
&lt;p&gt;图片存放规则：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;将图片放在文章目录下（推荐）：
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;span class="lnt"&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;content/
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;└── post/
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; └── my-first-post/
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; ├── index.md
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; └── cover.jpg
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;或放在全局静态目录：
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;static/
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;└── images/
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; └── cover.jpg
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;然后在文章中引用：&lt;code&gt;image: &amp;quot;/images/cover.jpg&amp;quot;&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;图片最佳实践：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;建议使用 JPEG 或 WebP 格式&lt;/li&gt;
&lt;li&gt;推荐尺寸：1200x630 像素（16:9）&lt;/li&gt;
&lt;li&gt;控制图片大小在 500KB 以内&lt;/li&gt;
&lt;li&gt;使用有意义的文件名，避免特殊字符&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="本地预览"&gt;本地预览
&lt;/h2&gt;&lt;p&gt;运行Hugo服务器进行本地预览：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;hugo server -D
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;访问 http://localhost:1313 查看效果。&lt;/p&gt;
&lt;h2 id="部署到github-pages"&gt;部署到GitHub Pages
&lt;/h2&gt;&lt;p&gt;在部署之前，需要明确理解Hugo博客的两个重要概念：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;源码目录&lt;/strong&gt;：包含所有的文章源文件、配置文件和主题&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;构建目录&lt;/strong&gt;（public/）：包含Hugo生成的静态网站文件&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;为了正确管理博客，我们需要创建两个独立的GitHub仓库：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;博客源码仓库&lt;/strong&gt;（比如：&lt;code&gt;blog-source&lt;/code&gt;）&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;用途：存储和版本控制博客的源代码&lt;/li&gt;
&lt;li&gt;内容：所有的markdown文件、配置文件、主题等&lt;/li&gt;
&lt;li&gt;特点：需要在 &lt;code&gt;.gitignore&lt;/code&gt; 中忽略 &lt;code&gt;public/&lt;/code&gt; 目录，因为它是构建产物&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;静态网站仓库&lt;/strong&gt;（必须命名为：&lt;code&gt;username.github.io&lt;/code&gt;）&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;用途：通过GitHub Pages提供网站访问&lt;/li&gt;
&lt;li&gt;内容：只包含 &lt;code&gt;public/&lt;/code&gt; 目录中的构建产物&lt;/li&gt;
&lt;li&gt;特点：这个仓库就是您的网站的实际托管位置&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="部署步骤"&gt;部署步骤
&lt;/h3&gt;&lt;h4 id="1-设置源码仓库"&gt;1. 设置源码仓库
&lt;/h4&gt;&lt;p&gt;首先，在博客根目录（blog/）下执行：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt; 1
&lt;/span&gt;&lt;span class="lnt"&gt; 2
&lt;/span&gt;&lt;span class="lnt"&gt; 3
&lt;/span&gt;&lt;span class="lnt"&gt; 4
&lt;/span&gt;&lt;span class="lnt"&gt; 5
&lt;/span&gt;&lt;span class="lnt"&gt; 6
&lt;/span&gt;&lt;span class="lnt"&gt; 7
&lt;/span&gt;&lt;span class="lnt"&gt; 8
&lt;/span&gt;&lt;span class="lnt"&gt; 9
&lt;/span&gt;&lt;span class="lnt"&gt;10
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# 1. 创建 .gitignore 文件，忽略构建产物&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;public/&amp;#34;&lt;/span&gt; &amp;gt; .gitignore
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# 2. 初始化源码仓库&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git init
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git add .
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git commit -m &lt;span class="s2"&gt;&amp;#34;Initial commit: Blog source code&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git branch -M main
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git remote add origin https://github.com/username/blog-source.git
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git push -u origin main
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h4 id="2-设置静态网站仓库"&gt;2. 设置静态网站仓库
&lt;/h4&gt;&lt;p&gt;然后，处理构建后的静态文件：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt; 1
&lt;/span&gt;&lt;span class="lnt"&gt; 2
&lt;/span&gt;&lt;span class="lnt"&gt; 3
&lt;/span&gt;&lt;span class="lnt"&gt; 4
&lt;/span&gt;&lt;span class="lnt"&gt; 5
&lt;/span&gt;&lt;span class="lnt"&gt; 6
&lt;/span&gt;&lt;span class="lnt"&gt; 7
&lt;/span&gt;&lt;span class="lnt"&gt; 8
&lt;/span&gt;&lt;span class="lnt"&gt; 9
&lt;/span&gt;&lt;span class="lnt"&gt;10
&lt;/span&gt;&lt;span class="lnt"&gt;11
&lt;/span&gt;&lt;span class="lnt"&gt;12
&lt;/span&gt;&lt;span class="lnt"&gt;13
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# 1. 生成静态网站文件&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;hugo --minify
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# 2. 进入构建目录&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; public
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# 3. 初始化静态网站仓库&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git init
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git add .
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git commit -m &lt;span class="s2"&gt;&amp;#34;Initial commit: Static website files&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git branch -M main
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git remote add origin https://github.com/username/username.github.io.git
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git push -u origin main
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id="更新博客流程"&gt;更新博客流程
&lt;/h3&gt;&lt;p&gt;每次更新博客内容时：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;在源码仓库中修改内容（比如写新文章）：&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# 在blog目录下&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git add .
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git commit -m &lt;span class="s2"&gt;&amp;#34;Add new blog post&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git push
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ol start="2"&gt;
&lt;li&gt;更新静态网站：&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;span class="lnt"&gt;5
&lt;/span&gt;&lt;span class="lnt"&gt;6
&lt;/span&gt;&lt;span class="lnt"&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;# 在blog目录下&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;hugo --minify &lt;span class="c1"&gt;# 重新生成静态文件&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; public &lt;span class="c1"&gt;# 进入构建目录&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git add . &lt;span class="c1"&gt;# 添加新生成的文件&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git commit -m &lt;span class="s2"&gt;&amp;#34;Update website&amp;#34;&lt;/span&gt; &lt;span class="c1"&gt;# 提交更改&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git push &lt;span class="c1"&gt;# 推送到GitHub Pages&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; .. &lt;span class="c1"&gt;# 返回博客根目录&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;这种双仓库的设置确保了：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;源代码得到完整的版本控制&lt;/li&gt;
&lt;li&gt;构建产物独立管理&lt;/li&gt;
&lt;li&gt;GitHub Pages能正确托管网站&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;提示：如果这个手动部署过程太繁琐，可以使用GitHub Actions自动化它。&lt;/p&gt;
&lt;h2 id="自动化部署"&gt;自动化部署
&lt;/h2&gt;&lt;p&gt;可以使用GitHub Actions实现自动部署。这种方式的优势是：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;无需手动构建和部署&lt;/li&gt;
&lt;li&gt;每次推送代码后自动更新网站&lt;/li&gt;
&lt;li&gt;确保部署过程的一致性&lt;/li&gt;
&lt;li&gt;可以在任何设备上更新博客&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;在仓库根目录创建&lt;code&gt;.github/workflows/deploy.yml&lt;/code&gt;文件，这个配置文件的主要功能是：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;触发条件：&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;span class="lnt"&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-yaml" data-lang="yaml"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nt"&gt;on&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;push&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;branches&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;- &lt;span class="l"&gt;main &lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c"&gt;# 当推送到main分支时触发&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;workflow_dispatch&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c"&gt;# 支持手动触发部署&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ol start="2"&gt;
&lt;li&gt;权限设置：&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-yaml" data-lang="yaml"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nt"&gt;permissions&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;contents&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;read &lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c"&gt;# 仓库内容的读取权限&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;pages&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;write &lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c"&gt;# GitHub Pages的写入权限&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;id-token&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;write &lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c"&gt;# 身份令牌的写入权限&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ol start="3"&gt;
&lt;li&gt;
&lt;p&gt;构建任务（build job）：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;检出代码：使用 &lt;code&gt;actions/checkout@v3&lt;/code&gt; 获取仓库代码&lt;/li&gt;
&lt;li&gt;设置Hugo环境：安装最新版本的Hugo&lt;/li&gt;
&lt;li&gt;构建网站：运行 &lt;code&gt;hugo --minify&lt;/code&gt; 生成优化后的静态文件&lt;/li&gt;
&lt;li&gt;上传构建结果：将 &lt;code&gt;public&lt;/code&gt; 目录打包作为部署制品&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;部署任务（deploy job）：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;等待构建任务完成&lt;/li&gt;
&lt;li&gt;将构建好的文件部署到GitHub Pages&lt;/li&gt;
&lt;li&gt;输出部署后的网站URL&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;完整的配置文件如下：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt; 1
&lt;/span&gt;&lt;span class="lnt"&gt; 2
&lt;/span&gt;&lt;span class="lnt"&gt; 3
&lt;/span&gt;&lt;span class="lnt"&gt; 4
&lt;/span&gt;&lt;span class="lnt"&gt; 5
&lt;/span&gt;&lt;span class="lnt"&gt; 6
&lt;/span&gt;&lt;span class="lnt"&gt; 7
&lt;/span&gt;&lt;span class="lnt"&gt; 8
&lt;/span&gt;&lt;span class="lnt"&gt; 9
&lt;/span&gt;&lt;span class="lnt"&gt;10
&lt;/span&gt;&lt;span class="lnt"&gt;11
&lt;/span&gt;&lt;span class="lnt"&gt;12
&lt;/span&gt;&lt;span class="lnt"&gt;13
&lt;/span&gt;&lt;span class="lnt"&gt;14
&lt;/span&gt;&lt;span class="lnt"&gt;15
&lt;/span&gt;&lt;span class="lnt"&gt;16
&lt;/span&gt;&lt;span class="lnt"&gt;17
&lt;/span&gt;&lt;span class="lnt"&gt;18
&lt;/span&gt;&lt;span class="lnt"&gt;19
&lt;/span&gt;&lt;span class="lnt"&gt;20
&lt;/span&gt;&lt;span class="lnt"&gt;21
&lt;/span&gt;&lt;span class="lnt"&gt;22
&lt;/span&gt;&lt;span class="lnt"&gt;23
&lt;/span&gt;&lt;span class="lnt"&gt;24
&lt;/span&gt;&lt;span class="lnt"&gt;25
&lt;/span&gt;&lt;span class="lnt"&gt;26
&lt;/span&gt;&lt;span class="lnt"&gt;27
&lt;/span&gt;&lt;span class="lnt"&gt;28
&lt;/span&gt;&lt;span class="lnt"&gt;29
&lt;/span&gt;&lt;span class="lnt"&gt;30
&lt;/span&gt;&lt;span class="lnt"&gt;31
&lt;/span&gt;&lt;span class="lnt"&gt;32
&lt;/span&gt;&lt;span class="lnt"&gt;33
&lt;/span&gt;&lt;span class="lnt"&gt;34
&lt;/span&gt;&lt;span class="lnt"&gt;35
&lt;/span&gt;&lt;span class="lnt"&gt;36
&lt;/span&gt;&lt;span class="lnt"&gt;37
&lt;/span&gt;&lt;span class="lnt"&gt;38
&lt;/span&gt;&lt;span class="lnt"&gt;39
&lt;/span&gt;&lt;span class="lnt"&gt;40
&lt;/span&gt;&lt;span class="lnt"&gt;41
&lt;/span&gt;&lt;span class="lnt"&gt;42
&lt;/span&gt;&lt;span class="lnt"&gt;43
&lt;/span&gt;&lt;span class="lnt"&gt;44
&lt;/span&gt;&lt;span class="lnt"&gt;45
&lt;/span&gt;&lt;span class="lnt"&gt;46
&lt;/span&gt;&lt;span class="lnt"&gt;47
&lt;/span&gt;&lt;span class="lnt"&gt;48
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-yaml" data-lang="yaml"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;Deploy Hugo site to Pages&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;&lt;/span&gt;&lt;span class="nt"&gt;on&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;push&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;branches&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;- &lt;span class="l"&gt;main&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;workflow_dispatch&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;&lt;/span&gt;&lt;span class="nt"&gt;permissions&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;contents&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;read&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;pages&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;write&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;id-token&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;write&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;&lt;/span&gt;&lt;span class="nt"&gt;concurrency&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;group&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;pages&amp;#34;&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;cancel-in-progress&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kc"&gt;false&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;&lt;/span&gt;&lt;span class="nt"&gt;defaults&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;run&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;shell&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;bash&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;&lt;/span&gt;&lt;span class="nt"&gt;jobs&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;build&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;runs-on&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;ubuntu-latest&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;steps&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;- &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;Checkout&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;uses&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;actions/checkout@v3&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;- &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;Setup Hugo&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;uses&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;peaceiris/actions-hugo@v2&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;with&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;hugo-version&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;latest&amp;#39;&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;- &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;Build with Hugo&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;run&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;hugo --minify&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;- &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;Upload artifact&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;uses&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;actions/upload-pages-artifact@v2&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;with&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;path&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;./public&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;deploy&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;environment&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;github-pages&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;url&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;${{ steps.deployment.outputs.page_url }}&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;runs-on&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;ubuntu-latest&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;needs&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;build&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;steps&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;- &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;Deploy to GitHub Pages&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;id&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;deployment&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;uses&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;actions/deploy-pages@v2&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;要启用自动部署，还需要进行以下设置：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;在GitHub仓库设置中启用Pages功能：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;进入仓库的 Settings &amp;gt; Pages&lt;/li&gt;
&lt;li&gt;在 Build and deployment 部分&lt;/li&gt;
&lt;li&gt;Source 选择 &amp;ldquo;GitHub Actions&amp;rdquo;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;确保仓库的 Actions 权限已开启：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;进入仓库的 Settings &amp;gt; Actions &amp;gt; General&lt;/li&gt;
&lt;li&gt;确保 Actions permissions 允许工作流运行&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;设置完成后，每次你推送更改到main分支，GitHub Actions就会自动：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;拉取最新代码&lt;/li&gt;
&lt;li&gt;安装Hugo环境&lt;/li&gt;
&lt;li&gt;构建你的网站&lt;/li&gt;
&lt;li&gt;部署到GitHub Pages&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;你可以在仓库的Actions标签页查看部署状态和日志。&lt;/p&gt;
&lt;h2 id="维护博客"&gt;维护博客
&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;定期更新内容&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;hugo new post/new-article/index.md
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ol start="2"&gt;
&lt;li&gt;本地预览&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;hugo server -D
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ol start="3"&gt;
&lt;li&gt;部署更新&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;hugo --minify
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git add .
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git commit -m &lt;span class="s2"&gt;&amp;#34;Update content&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;git push
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id="结论"&gt;结论
&lt;/h2&gt;&lt;p&gt;现在你已经掌握了使用Hugo创建博客并部署到GitHub Pages的基本流程。通过这个方法，你可以免费托管你的个人博客，并且可以方便地进行更新和维护。&lt;/p&gt;
&lt;h2 id="常见问题解答"&gt;常见问题解答
&lt;/h2&gt;&lt;h2 id="配置评论系统"&gt;配置评论系统
&lt;/h2&gt;&lt;p&gt;Stack主题支持多种评论系统，包括：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Disqus（默认配置）&lt;/li&gt;
&lt;li&gt;DisqusJS&lt;/li&gt;
&lt;li&gt;Utterances（GitHub Issues驱动）&lt;/li&gt;
&lt;li&gt;Giscus（GitHub Discussions驱动）&lt;/li&gt;
&lt;li&gt;Twikoo&lt;/li&gt;
&lt;li&gt;Waline&lt;/li&gt;
&lt;li&gt;等其他系统&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="配置disqus最简单"&gt;配置Disqus（最简单）
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;在 &lt;a class="link" href="https://disqus.com" target="_blank" rel="noopener"
&gt;Disqus官网&lt;/a&gt; 注册账号&lt;/li&gt;
&lt;li&gt;创建一个站点，获取shortname&lt;/li&gt;
&lt;li&gt;修改 &lt;code&gt;hugo.yaml&lt;/code&gt; 中的配置：&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;span class="lnt"&gt;5
&lt;/span&gt;&lt;span class="lnt"&gt;6
&lt;/span&gt;&lt;span class="lnt"&gt;7
&lt;/span&gt;&lt;span class="lnt"&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-yaml" data-lang="yaml"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nt"&gt;services&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;disqus&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;shortname&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;你的shortname&amp;#34;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c"&gt;# 替换为你的Disqus shortname&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt;&lt;/span&gt;&lt;span class="nt"&gt;params&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;comments&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;enabled&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kc"&gt;true&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;provider&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;disqus &lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c"&gt;# 使用disqus作为评论系统&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id="配置utterances基于github"&gt;配置Utterances（基于GitHub）
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;安装 &lt;a class="link" href="https://github.com/apps/utterances" target="_blank" rel="noopener"
&gt;Utterances GitHub App&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;修改 &lt;code&gt;hugo.yaml&lt;/code&gt; 配置：&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt;1
&lt;/span&gt;&lt;span class="lnt"&gt;2
&lt;/span&gt;&lt;span class="lnt"&gt;3
&lt;/span&gt;&lt;span class="lnt"&gt;4
&lt;/span&gt;&lt;span class="lnt"&gt;5
&lt;/span&gt;&lt;span class="lnt"&gt;6
&lt;/span&gt;&lt;span class="lnt"&gt;7
&lt;/span&gt;&lt;span class="lnt"&gt;8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-yaml" data-lang="yaml"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nt"&gt;params&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;comments&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;enabled&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kc"&gt;true&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;provider&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;utterances&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;utterances&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;repo&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;owner/repo-name &lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c"&gt;# 替换为你的GitHub仓库&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;issueTerm&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;pathname &lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c"&gt;# 文章和issue的映射方式&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;label&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;comment &lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c"&gt;# issue的标签&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id="配置giscus新一代github评论"&gt;配置Giscus（新一代GitHub评论）
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;安装 &lt;a class="link" href="https://github.com/apps/giscus" target="_blank" rel="noopener"
&gt;Giscus GitHub App&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;在仓库设置中启用Discussions功能&lt;/li&gt;
&lt;li&gt;访问 &lt;a class="link" href="https://giscus.app" target="_blank" rel="noopener"
&gt;Giscus.app&lt;/a&gt; 生成配置&lt;/li&gt;
&lt;li&gt;修改 &lt;code&gt;hugo.yaml&lt;/code&gt; 配置：&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;div class="chroma"&gt;
&lt;table class="lntable"&gt;&lt;tr&gt;&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code&gt;&lt;span class="lnt"&gt; 1
&lt;/span&gt;&lt;span class="lnt"&gt; 2
&lt;/span&gt;&lt;span class="lnt"&gt; 3
&lt;/span&gt;&lt;span class="lnt"&gt; 4
&lt;/span&gt;&lt;span class="lnt"&gt; 5
&lt;/span&gt;&lt;span class="lnt"&gt; 6
&lt;/span&gt;&lt;span class="lnt"&gt; 7
&lt;/span&gt;&lt;span class="lnt"&gt; 8
&lt;/span&gt;&lt;span class="lnt"&gt; 9
&lt;/span&gt;&lt;span class="lnt"&gt;10
&lt;/span&gt;&lt;span class="lnt"&gt;11
&lt;/span&gt;&lt;span class="lnt"&gt;12
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class="lntd"&gt;
&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-yaml" data-lang="yaml"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nt"&gt;params&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;comments&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;enabled&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="kc"&gt;true&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;provider&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;giscus&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;giscus&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;repo&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="l"&gt;owner/repo-name &lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c"&gt;# 你的GitHub仓库&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;repoID&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;R_xxx&amp;#34;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c"&gt;# 仓库ID&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;category&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;Announcements&amp;#34;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c"&gt;# discussion分类&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;categoryID&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;DIC_xxx&amp;#34;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c"&gt;# 分类ID&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;mapping&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;pathname&amp;#34;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c"&gt;# 映射方式&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;reactionsEnabled&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c"&gt;# 允许反应&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="nt"&gt;emitMetadata&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;0&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="c"&gt;# 元数据&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id="最佳实践"&gt;最佳实践
&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;对于个人博客：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;如果想要最简单的设置：选择Disqus&lt;/li&gt;
&lt;li&gt;如果想要与GitHub集成：选择Giscus&lt;/li&gt;
&lt;li&gt;如果注重隐私：选择self-hosted的Waline&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;评论系统管理：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;定期审核评论&lt;/li&gt;
&lt;li&gt;设置合适的垃圾评论过滤&lt;/li&gt;
&lt;li&gt;保持与读者的互动&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;性能考虑：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;评论系统通常会增加页面加载时间&lt;/li&gt;
&lt;li&gt;考虑使用懒加载方式加载评论系统&lt;/li&gt;
&lt;li&gt;可以设置评论区在用户滚动到底部时才加载&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;</description></item></channel></rss>